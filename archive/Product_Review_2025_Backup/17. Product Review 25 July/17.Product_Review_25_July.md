# Product Review 25 July 2025

## Agenda

- Mobile:
  - R4M: New Route View (Android) [Gaspar Eross](mailto:gaspar@route4me.com)
- Facility-Based Visibility Filter:
1.1 Open questions
- Vehicles: Map
  - New Map layers [Eugene Bondarenko](mailto:eugene.bondarenko@route4me.com)– continue here
Design [Vladimir Zhakhavets](mailto:vova@route4me.com)
- Route Metrics Panel
- Minimelts unloading/invoice generation flow
- Mobile Login/Signin
- RR / CL Schedule Editor and Preview



Recordings:
part 1
https://route4me.zoom.us/rec/share/dVH6moAsg-wOa8hLShw_WTrfGGqfOQpFPedLpczZ65o_NpXBgkxpS7zYnj_0_92H.zOnN1dxwBZqt4LV_
Passcode: o@m?ryC4
part 2
https://route4me.zoom.us/rec/share/Md6-vHtzTLVulYkSsyU0jHyapf1ZBiHXixZ36_I9ow6bq1gOttmBsotBRKc5pjpw.yE2IlSezKmUdDJ-n
Passcode: njNxAA*6
### Отчет по итогам стратегической встречи с CEO
Дата: 25 июля 2025 г.
Присутствовали: Ден (CEO), и члены команды разработки, включая Вову, Игоря Скринковского, Александра Ищенко, Сергея Касаинова, Алекса Шульгу, Семена, Гаспара Эросса, Катерину Шевченко, и др.
Цель встречи: Обзор и утверждение UX/UI-решений для новых функций, решение критических проблем с производительностью и логикой расчета метрик, а также синхронизация команды по внедрению функционала "Facilities".
#### 1. Утверждение логики расчета и отображения метрик
- Ответственный: Ден, Вова, Игорь Скринковский
- Время обсуждения:
  - GMT20250725-132850: 00:00:06 - 00:11:22
  - GMT20250725-132850: 00:27:20 - 00:29:08
- Краткое описание контекста/цели обсуждения: Обсуждение и финализация определений ключевых метрик (Wait Time, Travel Duration) и их корректного отображения в интерфейсе перед демонстрацией клиенту. Ден выявил несоответствия в данных между разными экранами.
- Основные моменты обсуждения и предложения команды:
  - Команда уточнила нейминг метрик: Travel Duration, Service Time, Break Time, и Wait Time.
  - Было предложено рассчитывать Wait Time как разницу между временем въезда в геозону и нажатием кнопки "Arrived".
  - Команда отметила, что в интерфейсе списка маршрутов (Route List) отсутствуют плановые метрики, что делает невозможным сравнение "план/факт".
- Ключевые указания, мнения и решения Дена:
  - Ден категорически отверг предложенный способ расчета Wait Time. Он постановил, что Wait Time — это время ожидания до открытия временного окна, т.е. когда водитель прибыл на точку раньше разрешенного времени начала обслуживания. [00:01:25.850 - 00:01:42.590]
  - Он подчеркнул, что без событий от мобильного приложения (smart device events) корректный расчет Wait Time невозможен.
  - Ден обнаружил критическую ошибку: на странице списка маршрутов колонка Total Duration показывает фактическое время в пути (Actual Travel Duration), в то время как на странице снепшота маршрута (Route Snapshot) эти данные отображаются корректно. Это вводит клиента в заблуждение. [00:08:33.840 - 00:10:44.089]
  - Директива: Необходимо срочно исправить отображение в списке маршрутов. Должны быть отдельные колонки для Plan Total Travel Duration и Actual Total Travel Duration, а также колонка Delta для наглядного сравнения отклонений.
- Принятые решения и Задачи/Следующие шаги:
  - Решение: Wait Time рассчитывается строго как время ожидания до начала временного окна.
  - Задача (Бэкенд/Фронтенд): Немедленно исправить логику и названия колонок в Route List. Добавить колонку Plan Total Travel Duration и колонку Delta для сравнения план/факт по времени старта и длительности.
  - Задача (Игорь Скринковский): Обеспечить срочный деплой исправлений на продакшн. [00:25:42.670 - 00:25:54.320]
- Итоговое саммари по теме: В ходе обсуждения была выявлена и исправлена фундаментальная ошибка в логике и представлении ключевых метрик производительности. Ден дал четкие директивы по приведению данных в консистентное состояние на всех экранах и добавлению сравнительных метрик (дельта), что является основной ценностью для клиента. Команда обязалась выкатить исправления в тот же день.
#### 2. Дизайн и UX блока метрик в Route Snapshot
- Ответственный: Вова, Ден, Александр Ищенко
- Время обсуждения: GMT20250725-132850: 00:11:22 - 00:25:23
- Краткое описание контекста/цели обсуждения: Вова представил на утверждение новые макеты для блока с детальной статистикой (метриками) на странице снепшота маршрута. Цель — сделать представление данных максимально информативным и читаемым.
- Основные моменты обсуждения и предложения команды:
  - Представлен основной вариант — плотный вертикальный список всех метрик, сгруппированных по категориям (Plan, Actual, Delta).
  - В качестве альтернативы предложен упрощенный вид, где часть данных скрывается в тултип, чтобы не перегружать интерфейс.
  - Предложен горизонтальный вид для случаев, когда пользователю важны лишь несколько ключевых метрик.
- Ключевые указания, мнения и решения Дена:
  - Директива: Основной вертикальный макет утвержден. Идея скрывать часть данных в тултип отвергнута — все метрики должны быть видны сразу. [00:13:29.020 - 00:13:30.940]
  - Ключевое требование: В заголовок блока метрик необходимо добавить переключатель (toggle), позволяющий пользователю выбирать формат отображения дельты: абсолютные значения или проценты. [00:13:50.830 - 00:14:24.729]
  - Ден согласился, что в первой версии можно обойтись без явных заголовков-группировок (Plan, Actual), но в будущем они понадобятся.
  - В качестве стратегического улучшения Ден предложил использовать визуализацию в виде Waterfall Chart. Такой график наглядно покажет, как каждая составляющая (travel, service, wait time) влияет на общую длительность маршрута и как отклонения на каждом этапе каскадно смещают итоговый результат. [00:20:22.900 - 00:22:16.040]
- Принятые решения и Задачи/Следующие шаги:
  - Решение: Утвержден плотный вертикальный макет отображения метрик.
  - Задача (Вова, Фронтенд): Добавить в макет переключатель "абсолютные значения / проценты" для колонки Delta.
  - Задача (Вова, Фронтенд): Добавить в макет тонкие разделительные линии для улучшения читаемости.
  - Задача (Продукт, UX): В будущем проработать и внедрить Waterfall Chart для визуализации структуры длительности маршрута.
- Итоговое саммари по теме: Команда утвердила финальный дизайн блока метрик для снепшота маршрута. Ключевым решением стало добавление гибкости для пользователя в виде переключателя формата дельты. Ден также задал вектор на будущее развитие, предложив более продвинутые методы визуализации данных.
#### 3. UX/UI мобильного приложения (детали маршрута)
- Ответственный: Гаспар Эросс, Вова, Ден
- Время обсуждения: GMT20250725-132850: 00:26:45 - 00:58:00
- Краткое описание контекста/цели обсуждения: Гаспар продемонстрировал дизайн и функциональность экрана с деталями маршрута в мобильном приложении для получения обратной связи и утверждения.
- Основные моменты обсуждения и предложения команды:
  - Интерфейс включает кнопки старта/завершения маршрута, гант-чарт, список остановок и информацию по ним.
  - Гаспар отметил, что дизайн адаптивный, но на маленьких экранах выглядит плотно.
  - Предполагается, что пользователь будет прокручивать экран для доступа ко всем элементам.
- Ключевые указания, мнения и решения Дена:
  - Критика: Текущий дизайн перегружен и неэргономичен. На маленьких экранах он выглядит как "каша".
  - Директива: Ключевые управляющие элементы (Start/End Route) должны быть вынесены в закрепленную нижнюю панель (bottom bar), так как это стандарт UX для мобильных приложений и обеспечивает легкий доступ большим пальцем. [00:29:28.590 - 00:30:07.509]
  - Лейблы и иконки должны быть более информативными. Например, вместо простого числа остановок, нужно явно указывать, что это (stops, destinations).
  - Необходимо добавить больше полезной информации непосредственно в список остановок (например, плановое service time), чтобы водителю не приходилось делать лишние клики.
  - Ден подчеркнул важность правильного использования "негативного пространства" для улучшения читаемости и снижения визуального шума.
- Принятые решения и Задачи/Следующие шаги:
  - Решение: Переработать дизайн экрана деталей маршрута.
  - Задача (Гаспар, Мобильная команда): Реализовать закрепленную нижнюю панель с основными кнопками управления маршрутом.
  - Задача (Гаспар, Вова): Улучшить информативность списка остановок, добавив ключевые данные.
  - Задача (Гаспар): Оптимизировать верстку для лучшей читаемости на небольших экранах.
- Итоговое саммари по теме: Текущий дизайн мобильного экрана был признан неудачным. Ден предоставил четкие указания по его кардинальному улучшению, сфокусировавшись на эргономике (нижняя панель) и информационной плотности. Команда приняла замечания и будет перерабатывать интерфейс.
#### 4. Проблема производительности и логики модуля Route Compliance
- Ответственный: Ден, Семен, Игорь Скринковский
- Время обсуждения: GMT20250725-152321: 01:05:10 - 01:11:00
- Краткое описание контекста/цели обсуждения: Обсуждение критической ситуации, когда старый и некорректно работающий модуль Route Compliance создает аномально высокую нагрузку на сервис Pripyat, что приводит к его деградации.
- Основные моменты обсуждения и предложения команды:
  - Семен подтвердил, что модуль использует старую, неэффективную логику, которая "бомбит" сервис запросами.
  - Проблема обострилась, так как модуль все еще включен у некоторых клиентов (например, Matthews), которые, возможно, увеличили количество используемых автомобилей.
  - Игорь ранее уже принимал меры по ограничению (throttling) сервиса, чтобы избежать полного отказа.
- Ключевые указания, мнения и решения Дена:
  - Ден выразил крайнее недовольство тем, что неработающий модуль продолжает потреблять ресурсы и создавать риски для стабильности системы.
  - Директива: Модуль Route Compliance должен быть немедленно полностью отключен для всех клиентов. [01:06:52.490 - 01:10:11.620]
  - Аргумент о том, что клиенты "используют" его, не принимается, так как функционал не работает корректно и не приносит никакой ценности. Это "бесполезная трата денег".
- Принятые решения и Задачи/Следующие шаги:
  - Задача (Семен, Игорь): Определить полный список клиентов, у которых активен модуль Route Compliance.
  - Задача (Семен, Игорь): Немедленно отключить модуль для всех клиентов, чтобы прекратить нагрузку на сервис. Проинформировать менеджеров по работе с клиентами о ситуации.
- Итоговое саммари по теме: Была выявлена серьезная проблема, где легаси-функционал угрожал стабильности всей системы. Ден принял волевое решение о полном отключении модуля, отдав приоритет производительности и надежности платформы над поддержкой сломанной и бесполезной функции.
#### 5. Внедрение и UX глобального фильтра "Facilities"
- Ответственный: Сергей Касаинов, Ден, Вова, Алекс Шульга
- Время обсуждения:
  - GMT20250725-152321: 00:02:22 - 00:13:42
  - GMT20250725-152321: 01:12:02 - 01:32:21
- Краткое описание контекста/цели обсуждения: Команда продемонстрировала работу нового глобального фильтра по Facility в шапке приложения и обсудила правила его взаимодействия с другими элементами интерфейса, а также логику сохранения состояния.
- Основные моменты обсуждения и предложения команды:
  - Сергей показал, как фильтр в шапке влияет на данные в таблицах (например, в Route List).
  - Возник вопрос: должен ли внутренний фильтр в таблице быть связан с глобальным фильтром в шапке?
  - Обсуждалась необходимость сохранять состояние фильтра при переходе между страницами и после перезагрузки.
- Ключевые указания, мнения и решения Дена:
  - Логика фильтрации: Глобальный фильтр в шапке является основным. Внутренний фильтр в таблице должен быть дочерним и показывать только те опции, которые выбраны в глобальном фильтре. Это позволит пользователю детализировать выбор (drill-down). [00:07:09.840 - 00:07:48.959]
  - Состояние фильтра: Выбор должен сохраняться при навигации между страницами, но сбрасываться при выходе из системы (logout), чтобы не создавать проблем для пользователей (например, саппорта), которые работают с разными аккаунтами.
  - UI/UX улучшения:
    - В выпадающем списке рядом с названием Facility необходимо отображать его адрес для лучшей идентификации.
    - При наведении на элемент списка должна появляться кнопка "Only", позволяющая быстро выбрать только этот элемент, сбросив остальные. [00:55:02.340 - 00:56:31.750]
    - Для пустых состояний (когда у аккаунта нет Facilities) в выпадающем списке должно быть сообщение и кнопка/ссылка "Create Facility" (если у пользователя есть права). [01:03:23.990 - 01:03:40.150]
- Принятые решения и Задачи/Следующие шаги:
  - Решение: Фильтры работают по иерархическому принципу "родитель-потомок".
  - Задача (Фронтенд): Реализовать логику иерархической фильтрации.
  - Задача (Фронтенд): Обеспечить сохранение состояния фильтра в рамках сессии и его сброс при logout.
  - Задача (Вова, Игорь Головцов): Доработать UI фильтра: добавить отображение адреса, кнопку "Only" и обработку пустого состояния.
- Итоговое саммари по теме: Были определены и утверждены ключевые принципы работы глобального фильтра Facilities. Ден внес ряд важных UX-улучшений, направленных на повышение удобства и интуитивности использования, превращая его в мощный инструмент для сегментации данных в рамках всей платформы.
