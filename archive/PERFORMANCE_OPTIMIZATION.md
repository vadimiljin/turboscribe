# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## ‚ö° –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è Tier 3)

### –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º:
- **15 –ø–æ—Ç–æ–∫–æ–≤** (–±—ã–ª–æ 5)
- –î–ª—è Tier 3: 5,000 RPM, 200,000 TPM
- –ú–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ 15-20 —Ç–µ–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏:

**–î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- 5 –ø–æ—Ç–æ–∫–æ–≤
- 25 —Ç–µ–º ‚âà 5 –±–∞—Ç—á–µ–π √ó ~60 —Å–µ–∫ = **~5 –º–∏–Ω—É—Ç**

**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- 15 –ø–æ—Ç–æ–∫–æ–≤
- 25 —Ç–µ–º ‚âà 2 –±–∞—Ç—á–∞ √ó ~60 —Å–µ–∫ = **~2 –º–∏–Ω—É—Ç—ã** ‚ö°

### –≠–∫–æ–Ω–æ–º–∏—è: **60% –±—ã—Å—Ç—Ä–µ–µ!**

## üìä Rate Limits –ø–æ Tier

| Tier | RPM | TPM | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–æ—Ç–æ–∫–∏ |
|------|-----|-----|----------------------|
| Tier 1 | 500 | 10,000 | 3-5 |
| Tier 2 | 5,000 | 50,000 | 5-8 |
| **Tier 3** | **5,000** | **200,000** | **10-15** ‚úÖ |
| Tier 4 | 10,000 | 800,000 | 20-30 |
| Tier 5 | 10,000 | 2,000,000 | 30-50 |

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –µ—â–µ –±—ã—Å—Ç—Ä–µ–µ (–¥–ª—è Tier 3):

–£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ **20 –ø–æ—Ç–æ–∫–æ–≤**:
```python
max_workers = 20  # Tier 3: –º–∞–∫—Å–∏–º—É–º –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```

### 2. –î–ª—è Tier 4/5:

```python
max_workers = 30  # Tier 4: 10,000 RPM
max_workers = 50  # Tier 5: 10,000 RPM + –æ–≥—Ä–æ–º–Ω—ã–π TPM
```

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Rate Limits:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π Tier
https://platform.openai.com/settings/organization/limits

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å headers –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
# x-ratelimit-remaining-requests
# x-ratelimit-remaining-tokens
```

### 4. –ï—Å–ª–∏ –ø–æ–ª—É—á–∞–µ—Ç–µ Rate Limit Error:

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç **exponential backoff** —Å retry:
```python
except RateLimitError as e:
    delay = (2 ** attempt) + random.uniform(0, 1)
    time.sleep(delay)
```

## ‚öôÔ∏è –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API:

- **Model**: `gpt-4o-mini` (–±—ã—Å—Ç—Ä—ã–π + –¥–µ—à–µ–≤—ã–π)
- **Temperature**: 0.0-0.1 (–º–∏–Ω–∏–º—É–º –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏)
- **Max retries**: 3 (—Å exponential backoff)
- **Timeout**: –Ω–µ—Ç (–º–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å (Tier 3):

**gpt-4o-mini:**
- Input: $0.150 / 1M tokens
- Output: $0.600 / 1M tokens

**–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ (95KB, 25 —Ç–µ–º):**
- ~40K input tokens
- ~30K output tokens
- **–°—Ç–æ–∏–º–æ—Å—Ç—å: ~$0.03 –∑–∞ —Ñ–∞–π–ª**
- –ú–µ—Å—è—á–Ω—ã–π –ª–∏–º–∏—Ç $1,000 = ~30,000 —Ñ–∞–π–ª–æ–≤

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. ‚úÖ **–°–µ–π—á–∞—Å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ:** 15 –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è Tier 3
2. ‚ö° **–ú–æ–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 20** –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
3. üìä **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–∏–º–∏—Ç–∞–º–∏:** https://platform.openai.com/settings/organization/limits
4. üí° **–î–ª—è –º–∞—Å—Å–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Batch API (50% –¥–µ—à–µ–≤–ª–µ, –Ω–æ 24—á –∑–∞–¥–µ—Ä–∂–∫–∞)

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```bash
# –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
time python standardize_product_reviews.py --test

# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
tail -f final_test.log | grep "OK.*–æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞"

# –ü–æ–¥—Å—á–µ—Ç —Ç–µ–º –≤ —Å–µ–∫—É–Ω–¥—É
# –î–æ: ~5 —Ç–µ–º/–º–∏–Ω = 0.08 —Ç–µ–º/—Å–µ–∫
# –ü–æ—Å–ª–µ: ~15 —Ç–µ–º/–º–∏–Ω = 0.25 —Ç–µ–º/—Å–µ–∫ (3x –±—ã—Å—Ç—Ä–µ–µ!)
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- –ù–µ –ø—Ä–µ–≤—ã—à–∞–π—Ç–µ 5,000 RPM –¥–ª—è Tier 3
- 15 –ø–æ—Ç–æ–∫–æ–≤ √ó 4 –∑–∞–ø—Ä–æ—Å–∞/–º–∏–Ω = **60 RPM** - –±–µ–∑–æ–ø–∞—Å–Ω–æ ‚úÖ
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ—Ç–Ω–∏ —Ñ–∞–π–ª–æ–≤ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Batch API

