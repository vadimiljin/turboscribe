### [https://route4me.zoom.us/rec/share/oqnd1pl95DB_wF8mmGL1UryFhMuyFb9jor5qqHjTUJ0UeO2xcspI_gyR2rVmLkM.jFLFx_cMwOc7aG6A](https://route4me.zoom.us/rec/share/oqnd1pl95DB_wF8mmGL1UryFhMuyFb9jor5qqHjTUJ0UeO2xcspI_gyR2rVmLkM.jFLFx_cMwOc7aG6A)
### Passcode: RM62b^zd
# Product Review 24 Sep Ad Hoc Meeting
### Отчет о стратегическом совещании по продукту
Дата: 18 сентября 2025 г.Участники: Дэн (CEO), Игорь Скринковский, Сергей, Семён.Цель: Глубокое проектирование модели данных для новой сущности "Активы" (Assets), финализация требований к интерфейсу Strategic Planner, а также обсуждение критических проблем, блокирующих продажи и демонстрации.
### 1. Тема: Проектирование архитектуры и модели данных для сущности "Активы" (Assets)
- Ответственный: Н/Д
- Время обсуждения: 00:24 – 35:27
- Контекст / Цель: Дэн представил детально проработанную схему базы данных для новой сущности "Активы". Цель — создать гибкую и масштабируемую структуру, которая позволит системе поддерживать новые рыночные вертикали (например, управление отходами, сервисное обслуживание оборудования), не требуя постоянных изменений схемы БД.
- Ключевые моменты обсуждения и предложения команды:
  - Игорь Скринковский задавал уточняющие вопросы по структуре таблиц, в частности по назначению полей is_physical, is_logical в таблице групп и по механизму версионирования (is_current).
  - Команда обсудила, что предложенный подход (EAV - Entity-Attribute-Value) для атрибутов является более гибким, чем добавление новых колонок в основную таблицу.
  - Обсуждалась необходимость полиморфной связи для привязки асетов и групп асетов к другим сущностям, таким как Facility.
- Ключевые тезисы, директивы и мнения Дэна:
  - Основная идея: Перейти от жестко закодированных атрибутов на уровне vehicle к гибкой системе, где любой "Асет" (машина, генератор, мусорный бак) является записью в главной таблице assets, а его характеристики хранятся как пары "ключ-значение" в связанных таблицах.
  - Структура модели данных:
    - assets: Мастер-список всех физических объектов с уникальным ID.
    - asset_attributes: Справочник всех возможных типов атрибутов (например, "Марка", "Модель", "Максимальное количество оборотов").
    - asset_attribute_values: Таблица для хранения конкретных значений атрибутов для конкретного асета (связывает assets и asset_attributes).
    - asset_types и asset_type_categories: Иерархические справочники для классификации асетов (например, Категория: "Контейнеры", Тип: "Мусорный бак").
    - asset_groups: Таблица для создания пользователями произвольных логических или физических групп асетов (например, "Все генераторы на объекте X", "Все серверы в стойке Y").
  - Версионирование: Для отслеживания изменений в составе групп с течением времени (что критично для биллинга и аналитики) будет использоваться поле is_current и временные рамки (effective_from, effective_to).
- Решения и дальнейшие шаги:
  - Игорь Скринковский / Бэкенд команда: Реализовать предложенную схему базы данных для сущности "Assets".
  - Ввести полиморфную связь для возможности привязки асетов и групп к facilities и другим сущностям.
  - Для пользовательских групп (asset_groups) реализовать механизм версионирования для отслеживания изменений состава во времени.
- Итоговое резюме по теме:Была утверждена детальная и гибкая архитектура данных для новой сущности "Активы". Этот подход позволит системе легко адаптироваться под различные типы оборудования и бизнес-процессы клиентов, создавая прочную основу для входа в новые рыночные ниши без необходимости постоянной доработки бэкенда.
### 2. Тема: Доработка интерфейса Strategic Planner Snapshot
- Ответственный: Н/Д
- Время обсуждения: 05:27 – 13:07
- Контекст / Цель: Финализация требований к UI для snapshot (результата) стратегической оптимизации. Текущий интерфейс неинформативен и не позволяет проводить полноценный анализ, что является критической проблемой для демонстраций.
- Ключевые моменты обсуждения и предложения команды:
  - Команда подтвердила, что новый разработчик уже работает над read-only версией snapshot.
  - Обсуждалась проблема производительности при отображении сотен маршрутов на карте и возможные решения (объединение в один слой, рендеринг чанками).
- Ключевые тезисы, директивы и мнения Дэна:
  - Главное требование: Read-only snapshot должен быть стилистически и функционально идентичен Route List. Пользователь должен видеть знакомую таблицу с маршрутами и полноценную интерактивную карту.
  - Карта в отдельной вкладке: Дэн поддержал идею Вовы вынести карту в отдельную вкладку, чтобы она занимала максимум пространства и была удобна для анализа.
  - Обязательные фильтры: В snapshot критически не хватает фильтров по дню и неделе. Пользователь должен иметь возможность кликнуть на ячейку в матрице результатов и сразу увидеть на карте и в таблице все маршруты за этот конкретный день.
  - Сравнение сценариев: Необходимо реализовать возможность выбрать несколько маршрутов (например, один и тот же маршрут за разные недели) и сравнить их на одной карте.
- Решения и дальнейшие шаги:
  - Новый разработчик / Фронтенд команда: Реализовать snapshot по образу и подобию Route List, включая таблицу, фильтры и полноценную карту в отдельной вкладке.
  - Добавить фильтрацию по дню/неделе при клике на матрицу результатов.
  - Реализовать механизм сравнения нескольких выбранных маршрутов на карте.
  - Для решения проблемы производительности использовать существующие подходы (упрощение вида при большом количестве данных).
- Итоговое резюме по теме:Принято окончательное решение о том, что интерфейс snapshot должен быть не просто отчетом, а полноценным аналитическим инструментом, копирующим успешный UX Route List. Ключевыми доработками являются добавление интерактивной карты, мощной фильтрации и возможности визуального сравнения маршрутов.
### 3. Тема: Проблема с качеством GPS-данных от клиента Amwaste и необходимость BigQuery
- Ответственный: Семён (анализ), Бэкенд команда
- Время обсуждения: 12:25 – 16:26
- Контекст / Цель: Семён представил анализ, подтверждающий низкое качество GPS-треков от клиента Amwaste из-за того, что мобильное приложение на iOS не работает в фоновом режиме, что мешает аналитике и работе продукта.
- Ключевые моменты обсуждения и предложения команды:
  - Большинство данных от мобильных устройств очень редкие, точки поступают в основном по прибытии на место, что указывает на закрытие приложения пользователями.
- Ключевые тезисы, директивы и мнения Дэна:
  - Foreground Service: Необходимо немедленно вернуть Foreground Service для iOS, который ранее был отключен. Без него данные трекинга бесполезны.
  - Аналитика использования: Следует начать собирать метрики по длительности сессий мобильного приложения. Это позволит доказать клиенту, что проблема на стороне их водителей, которые закрывают приложение.
  - Критическая директива: Все GPS-данные должны немедленно начать записываться в BigQuery. Это откроет огромные возможности для продвинутой аналитики, которые сейчас заблокированы.
- Решения и дальнейшие шаги:
  - Мобильная команда: Вернуть реализацию Foreground Service в iOS-приложение для обеспечения фоновой работы.
  - Бэкенд команда: Начать сбор и анализ статистики по длительности активных сессий мобильного приложения.
  - Бэкенд команда: Приоритезировать и реализовать экспорт всех GPS-данных в BigQuery.
- Итоговое резюме по теме:Проблема с качеством GPS-данных требует немедленных технических решений. Приняты два ключевых решения: вернуть Foreground Service для обеспечения непрерывного трекинга и начать передачу всех GPS-данных в BigQuery для разблокировки мощных аналитических возможностей.
### 4. Тема: Новое требование: Гибкая обработка сервисного времени и временных окон
- Ответственный: Сергей (фронтенд), Бэкенд команда
- Время обсуждения: 58:46 – 1:03:24
- Контекст / Цель: Обсуждение нового, критически важного бизнес-требования, выявленного на встрече с клиентом. Система должна поддерживать сценарии, когда сервисное время значительно превышает длительность временного окна.
- Ключевые тезисы, директивы и мнения Дэна:
  - Бизнес-кейс: Для многих операций (например, разгрузка 10 тонн песка, обслуживание сложного оборудования) важно только прибыть на объект в рамках временного окна (например, с 13:00 до 14:00, пока открыт шлагбаум). Сама работа может занимать 3-5 часов и выходить далеко за пределы этого окна.
  - Конкурентное преимущество: Ни один из конкурентов не поддерживает такую логику. Их системы выдадут ошибку, если service time > time window duration. Реализация этой "мелкой фигни" даст огромное преимущество.
- Решения и дальнейшие шаги:
  - Сергей / Бэкенд команда: Модифицировать логику валидации и оптимизации. Необходимо добавить опцию (на уровне constraint), которая позволит системе проверять только время прибытия в time window, игнорируя время окончания сервиса.
  - При расчете общего маршрута сервисное время (например, 5 часов) должно корректно учитываться для планирования последующих остановок.
- Итоговое резюме по теме:Выявлено и утверждено к реализации важное и уникальное бизнес-требование по гибкой обработке временных окон. Система научится поддерживать сценарии с длительным сервисным временем, что откроет двери для клиентов из отраслей логистики тяжелых грузов, строительства и сервисного обслуживания.
