# Product Progress Review 23 Oct 2025
- Facilities Matthews questions [[Artur Moskalenko](mailto:arturm@route4me.com)]
- Route List [[Serhii Kasainov](mailto:kserhii@route4me.com)]
- Table: Columns Grouping [[Serhii Kasainov](mailto:kserhii@route4me.com)]
  - Route List /  Strategic Optimization
- Organization Settings [[Davron Usmonov](mailto:davronu@route4me.com)]
- Strategic Optimization
  - Export [[Igor Golovtsov](mailto:igorgolovtsov@route4me.com)]
  - Scatter Plot [[Manar Kurmanov](mailto:manar.kurmanov@route4me.com)]
- Comparison Routes [[Alexey Gusentsov](mailto:alexey.gusentsov@route4me.com), [Dmitry Smaliak](mailto:dmitry.smaliak@route4me.com)]
- Activity Feed [[Alexey Afanasiev](mailto:alexey@route4me.com)]
  - [https://route4me.atlassian.net/browse/R4MWEB-26294](https://route4me.atlassian.net/browse/R4MWEB-26294)
## Questions
- CloudWays Account - Payment
[https://route4me.zoom.us/rec/share/0muhN3UBop1CpF7AccbZZpem1xjarQ_bMEVESQhWou5VM8Dampr-AcKBDL-if6G1.D-bZ-oj2-r-JEjSn](https://route4me.zoom.us/rec/share/0muhN3UBop1CpF7AccbZZpem1xjarQ_bMEVESQhWou5VM8Dampr-AcKBDL-if6G1.D-bZ-oj2-r-JEjSn)
Пароль: WaqV?8fp
### Отчет о встрече команды по стратегии и разработке продукта
Дата: 23 октября 2025 г.Начало: 13:27 GMTУчастники: Dan Khasis (Den), Semeyon S., Artur Moskalenko, Alex Shulga, Vova, Serhii Kasainov, artem.klopov, Alexander Dylevskiy, Davron Usmonov, Igor Golovtsov, и другие.Цель встречи: Обсуждение критических проблем, влияющих на клиентов, рассмотрение обновлений продукта и согласование дальнейших шагов по стратегическим инициативам.
### 1. Критическая проблема с Facilities для клиента Matthew's
- Ответственные: Artur Moskalenko, Alex Shulga
- Время обсуждения: 00:00:45 – 00:15:10; 00:44:11 – 01:01:45
- Контекст / Цель:Обсуждение критической ошибки, из-за которой у одного из топ-3 клиентов (Matthew's) нарушилась связь между маршрутами и "facilities" (объектами/филиалами). Это привело к сбоям в бизнес-процессах клиента, особенно в выставлении счетов и учете.
- Ключевые моменты обсуждения и предложения команды:
  - Artur объяснил, что ранее существовала непрямая атрибуция: маршрут автоматически связывался с facility того пользователя, кто его создавал. Этот механизм был убран, так как один пользователь мог быть связан с несколькими facilities, что приводило к некорректному присвоению сразу нескольких объектов одному маршруту.
  - Alex Shulga описал текущий рабочий процесс, при котором пользователь должен вручную выбирать facility при планировании маршрута через UI. Он также отметил, что изначально facilities задумывались в основном для аналитики и разделения видимости данных.
  - Команда подтвердила, что на данный момент отсутствует возможность указывать facility при импорте маршрутов файлом, что является ключевой проблемой для клиента.
  - Были высказаны опасения по поводу валидации данных: что произойдет, если маршруту, назначенному на водителя из facility "A", вручную присвоить facility "B", к которому у водителя нет доступа.
- Ключевые указания, директивы и мнения Den'a:
  - Бизнес-контекст: Den подчеркнул, что проблема имеет критическое значение. Каждая facility для клиента — это отдельное юридическое лицо. Неправильная привязка маршрута к facility делает невозможным корректное выставление счетов, что "взрывает всю бухгалтерию" клиента.
  - Причина проблемы: Den указал, что старый механизм автоматической привязки был изначально некорректным, но проблема стала очевидной только тогда, когда у клиента появилось больше одного facility. Основная текущая проблема — невозможность автоматической привязки facility при загрузке маршрутов файлом.
  - Исторические данные: Den выразил обеспокоенность тем, что были стерты все исторические атрибуты, что является серьезной проблемой для клиента.
  - Требуемая логика (Fallback Logic): Den четко сформулировал иерархию правил, по которой система должна автоматически определять facility для маршрута, если он не указан явно:
    - Facility назначенного пользователя (водителя): Приоритет №1.
    - Facility назначенного транспорта (vehicle): Если у водителя не указан facility.
    - Facility планировщика: Самый низкий приоритет, полезен только если водитель планирует сам для себя.
  - Валидация: При попытке привязать пользователя к маршруту с facility, к которому у пользователя нет доступа, система должна выдавать предупреждение и предлагать варианты решения (например, отлинковать пользователя или сменить facility маршрута).
- Решения и План Действий / Следующие шаги:
  - Срочно: Добавить в функционал импорта маршрутов файлом возможность указывать facility для каждого маршрута.
  - Реализовать "Fallback Logic": Внедрить описанную Den'ом иерархическую логику для автоматического присвоения facility.
  - Исправить UI баг: Устранить проблему, из-за которой в интерфейсе пропала группировка по facility. Ответственный: artem.klopov.
  - Внедрить валидацию: Добавить проверки на фронтенде и бэкенде, чтобы предотвратить назначение пользователей/транспорта на маршруты с недоступными им facilities.
Итоговое резюме по теме:Проблема с привязкой facilities для ключевого клиента была признана критической из-за прямого влияния на финансовую отчетность. Den указал на фундаментальные ошибки в логике и отсутствие ключевого функционала импорта, а также предоставил четкие директивы по реализации иерархической системы присвоения facility. Команде поручено в кратчайшие сроки исправить баг в UI и реализовать недостающий функционал для импорта и автоматического определения facility. [Klopov Artem](mailto:klopov@route4me.com)https://route4me.atlassian.net/browse/R4MEA-728
https://route4me.atlassian.net/browse/R4MEA-718
### 2. Стратегический планировщик маршрутов (Strategic Planner)
- Ответственные: Semeyon S., Vova, Serhii Kasainov
- Время обсуждения: 01:32:56 – 02:03:41
- Контекст / Цель:Обсуждение долгосрочной стратегии развития и функциональности инструмента стратегического планирования для анализа и создания "what-if" сценариев.
- Ключевые моменты обсуждения и предложения команды:
  - Команда обсуждала, как пользователи должны модифицировать входные данные (например, сервисное время для локации) и перезапускать расчеты.
  - Vova предложил, что изменения должны вноситься в основном списке локаций, после чего можно будет перезапустить оптимизацию.
  - Semeyon высказал идею, что при изменении данных для нового сценария система должна полностью копировать предыдущее состояние, создавая новую, независимую версию.
  - Были обсуждены текущие метрики в UI (например, Average Route Cube) и их неоднозначность.
- Ключевые указания, директивы и мнения Den'a:
  - Работа с данными: Den категорически заявил, что нельзя заставлять клиентов загружать миллионы исторических заказов в операционную базу данных (orders). Вместо этого, стратегический планировщик должен работать с "Data Sets" — временными, изолированными наборами данных.
  - Источник данных: Система должна позволять загружать исторические заказы (а не только локации) в дешевое хранилище (например, Google BigQuery, Spanner). На основе этих данных должны статистически вычисляться атрибуты для локаций (частота визитов, среднее время обслуживания, дни недели).
  - Концепция "Data Sets": Den предложил ввести новую сущность — "Data Set" или "Snapshot". Это позволит пользователям:
    - Создавать наборы данных из разных источников (фильтрованный список из customer_locations, загрузка нового файла с потенциальными клиентами, исторические заказы).
    - Редактировать эти наборы данных в "песочнице", не затрагивая мастер-данные.
    - Использовать эти "Data Sets" как входные данные для создания множества сценариев планирования.
  - Версионирование и сравнение: Den подчеркнул важность "связности" или "версионности" сценариев. Если сценарий "Б" создан на основе сценария "А" с измененными параметрами, пользователь должен видеть эту зависимость и понимать, что именно было изменено.
  - UI и метрики: Den указал на необходимость доработки метрик. Должно быть четкое различие между средними показателями на маршрут и средними на остановку, чтобы корректно оценивать эффективность емкости.
- Решения и План Действий / Следующие шаги:
  - Архитектура: Проектировать систему для работы с "Data Sets" на основе дешевых хранилищ данных, отделяя стратегическое планирование от операционной базы. Ответственный: Semeyon S. и команда бэкенда.
  - UI/UX: Внедрить возможность создавать и управлять "Data Sets".
  - Редактирование: Предоставить пользователям возможность редактировать локации внутри сценария и запускать перерасчет с созданием новой, связанной версии сценария.
  - Метрики: Переработать отображение метрик в UI, чтобы они были понятными и отражали как суммарные, так и средние значения на уровне маршрутов и остановок.
- Итоговое резюме по теме:Den изложил стратегическое видение развития планировщика, сместив фокус с работы с "локациями" на анализ больших объемов "заказов". Ключевой концепцией является введение "Data Sets" — изолированных наборов данных для гибкого "what-if" анализа, что позволит клиентам моделировать сценарии без риска для их операционных данных. Команде предстоит спроектировать и реализовать эту новую архитектуру.
### 3. Обновления UI/UX: Карта, Таймлайн и Экспорт
- Ответственные: Serhii Kasainov, Igor Golovtsov
- Время обсуждения: 02:23:42 – 03:05:35
- Контекст / Цель:Демонстрация последних улучшений в основном интерфейсе планирования, включая исправления на карте, новый layout и функционал экспорта.
- Ключевые моменты обсуждения и предложения команды:
  - Карта и таймлайн: Serhii показал, что исправлены проблемы с "шифтами" объектов на карте, улучшен layout для более удобной работы, реализован drag-and-drop локаций на карту и в таймлайн. Vova выразил обеспокоенность, что drag-and-drop без превью и валидации может привести к серьезным ошибкам в маршрутах (например, добавлению адреса с другого континента).
  - Экспорт: Igor Golovtsov представил обновленный UI для экспорта данных из таблиц. Было предложено два варианта расположения кнопок управления пресетами: иконки вверху или кнопки с текстом внизу.
  - Часовые пояса: Serhii продемонстрировал добавление колонок с временем в часовом поясе пользователя и часовом поясе маршрута. Возникла техническая проблема с сортировкой и группировкой, если основной колонкой делать время маршрута.
- Ключевые указания, директивы и мнения Den'a:
  - Drag-and-Drop: Den согласился с Vova, что функционал требует "песочницы" или как минимум модального окна с превью изменений и явным подтверждением от пользователя. Необходимо показывать, как действие повлияет на маршрут.
  - Многооконный режим: Den предложил продумать возможность работы в нескольких окнах/на нескольких мониторах, чтобы диспетчер мог видеть карту и список маршрутов одновременно и перетаскивать задачи между ними.
  - UI экспорта: Den настоял на варианте с кнопками и текстом, так как целевая аудитория (возраст 40-60 лет) может не понять значения иконок. Он также предложил сделать сам модал экспорта уже, а кнопки разместить справа, чтобы сэкономить место.
  - Глубина экспорта: Den указал на критический недостаток: экспорт должен быть иерархическим. При экспорте списка сценариев пользователь должен иметь возможность экспортировать также все вложенные маршруты и их остановки, чтобы данные были пригодны для анализа в Excel.
  - Часовые пояса: Den одобрил подход с несколькими колонками, но предложил переименовать их для ясности (например, Your Time и Route Time) и вынести аббревиатуру часового пояса в заголовок колонки Your Time.
- Решения и План Действий / Следующие шаги:
  - Drag-and-Drop: Добавить модальное окно с превью и подтверждением для операций drag-and-drop. Ответственный: Serhii Kasainov.
  - Экспорт: Реализовать UI с текстовыми кнопками. Добавить возможность иерархического экспорта (чекбоксы для выбора уровня вложенности данных). Ответственный: Igor Golovtsov.
  - Часовые пояса: Переименовать колонки и доработать их отображение согласно предложению Den'a. Ответственный: Serhii Kasainov.
  - Multi-window: Исследовать возможность реализации многооконного интерфейса. Ответственный: Serhii Kasainov, Roman.
- Итоговое резюме по теме:Команда продемонстрировала значительный прогресс в улучшении UI. Den одобрил общую направленность, но внес ключевые корректировки, направленные на повышение юзабилити для целевой аудитории и обеспечение полноты данных при экспорте. Основные экшен-поинты касаются добавления превью для drag-and-drop и реализации иерархического экспорта.
### 4. Push-уведомления для мобильного приложения
- Ответственные: Команды бэкенда и мобильной разработки
- Время обсуждения: 03:11:15 – 03:19:48
- Контекст / Цель:Обсуждение необходимости внедрения нативных push-уведомлений для водителей, работающих с мобильным приложением.
- Ключевые моменты обсуждения и предложения команды:
  - Команда подтвердила, что текущие уведомления работают только внутри открытого приложения, но не в фоновом режиме.
  - Serhii Kasainov отметил, что для десктопа это реализовать проще, чем для мобильных устройств, и важно не "завалить" пользователей уведомлениями.
- Ключевые указания, директивы и мнения Den'a:
  - Критическая важность: Den заявил, что отсутствие нативных push-уведомлений делает приложение "бесполезным". Водитель, закрывший приложение, не узнает о критических изменениях в маршруте, новых сообщениях или отменах.
  - Пример для подражания: В качестве эталона был приведен опыт использования приложений, как Uber, где все ключевые события сопровождаются мгновенными уведомлениями на домашний экран.
  - Настраиваемость: Необходимо предоставить администраторам в Organization Settings возможность настраивать, какие события и по каким каналам (push, email, SMS) будут генерировать уведомления.
  - Сценарии: Den привел примеры критически важных уведомлений: изменение маршрута, новое сообщение от диспетчера, пропущенная доставка дорогостоящего оборудования.
  - Дополнительный функционал: Упомянул необходимость автоматического перевода сообщений между водителем, диспетчером и клиентом, если они говорят на разных языках.
- Решения и План Действий / Следующие шаги:
  - Реализация Push-уведомлений: Приоритезировать задачу по внедрению нативных push-уведомлений для мобильного приложения, которые будут отображаться в нотификационном центре ОС.
  - Настройки уведомлений: Создать в Organization Settings UI для управления типами и каналами уведомлений.
  - Интеграция: Использовать сервис, подобный OneSignal, для управления подписками и доставкой уведомлений.
- Итоговое резюме по теме:Внедрение нативных push-уведомлений было определено как задача высокого приоритета для повышения ценности мобильного приложения. Den подчеркнул, что текущее положение дел неприемлемо, и система должна проактивно информировать водителей о важных событиях, даже когда приложение работает в фоновом режиме. Команде поручено разработать и внедрить эту функциональность вместе с гибкой системой настроек.
