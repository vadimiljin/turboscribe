# Транскрипт встречи (Summary)

**Дата:** 2025-05-29 12:56
**Длительность:** 02:10:21
**Участники:** 15
**Точность:** 93.5%

---

**Dmitry Smaliak** [00:03:04 - 00:03:21]: Привет. Привет.

**Oleksandr Ishchenko** [00:03:45 - 00:03:58]: У нас аженда 29-я актуальная, по списку 8 пунктов, да? Да. Переспрашиваю в отсутствие Алексея, что у нас туда есть на подносе.

**Semeyon S** [00:03:58 - 00:04:03]: Ну сейчас минут 5 подождем, так будем начинать.

**Serhii Kasainov** [00:04:07 - 00:04:08]: Привет.

**Oleksandr Ishchenko** [00:04:08 - 00:04:09]: Привет, Игорь.

**Serhii Kasainov** [00:04:15 - 00:04:19]: А если будет и Вова, и Дэн, мы разберем фидбэк по дашборде и метрикам?

**Oleksandr Ishchenko** [00:04:19 - 00:04:24]: В конце, конечно.

**Semeyon S** [00:04:24 - 00:04:28]: А ты можешь поконкретнее, какой дашборд, какая метрика, какие метрики?

**Oleksandr Ishchenko** [00:04:28 - 00:04:33]: То, что эвереджи позабирать, я так понял, Сергей имеет ввиду. Показываю.

**Semeyon S** [00:04:34 - 00:04:53]: И да. Откуда забирать эвереджи, и так далее? Опять говорите так, как будто все та же информация у вас есть сейчас. Пошарилась. Да, ну и вопрос, что с этими тоже делать, да? В каком направлении развивать.

**Serhii Kasainov** [00:04:53 - 00:04:59]: Просто вот это уже было закончено. Так подожди.

**Semeyon S** [00:04:59 - 00:05:04]: Тотал миссинг. А, конкретно в планетайм миссинг.

**Serhii Kasainov** [00:05:07 - 00:05:22]: Нет, это скорее всего про ордера касается. Тотал миссинг, понятно. Но почему эвередж убрать? Опять же, это же его не просто убрать, останется пустое место здесь. Или все двигать, или...

**Oleksandr Ishchenko** [00:05:22 - 00:05:34]: Размеры менять. Там, ребята, может быть все что угодно, от ревординга до убрать, до заменить. Давайте не выкладываем, наверное, в конце все-таки уделим время.

**Serhii Kasainov** [00:05:35 - 00:05:47]: Ну мы вроде их вот-вот закончили уже, осталось их на прот донести, и можно было бы что-то с ними делать. А сейчас, получается, надо дальше думать.

**Oleksandr Ishchenko** [00:07:23 - 00:07:30]: Вова, я тебе тут выписываю в Slack, а ты тут.

**Vova** [00:07:30 - 00:07:38]: Нет-нет, я правда запоздал на минуту, я сидел с Виктором и ревьювил мобильный iOS.

**Oleksandr Ishchenko** [00:07:38 - 00:07:45]: Я просто высматривал твою аватарку, не видел, и написал, вернулся.

**Vova** [00:07:45 - 00:07:53]: Ты тут.

**Oleksandr Ishchenko** [00:08:16 - 00:08:46]: Топик и вопросы в конце топика по топику, или сначала все страницы и все вопросы в конце? Как показывает практика, второе лучше, потому что с первого раза можем не успеть все страницы просмотреть, как это было, по-моему, позапрошлый раз. Вы забыли включить вообще мои айтемы в адженду. Вова, у тебя есть доступ к документу, ты знаешь дату, но как бы это не наша обязанность.

**Vova** [00:08:46 - 00:08:54]: Окей, хорошо, я сейчас впишу.

**Semeyon S** [00:08:54 - 00:09:02]: Там Артур тоже повключал, да, документ свободный в редактировании, ну, кроме основной адженды.

**Oleksandr Ishchenko** [00:09:02 - 00:09:17]: Лучше в Question запиши, не там, где ты сейчас хочешь девяточку прописать. Подожди, Александр, у нас есть договоренность, что в конце звонка все, что Вова сможет показать, обсудить и запруить, то он показывает, обсуждает и опрует.

**Semeyon S** [00:09:17 - 00:09:32]: Извините, я покажу, покажу, и станет понятней. О, Вова уже правильно, Вова хотел тут прописывать, это наша адженда, что мы демим, а это уже в конце звонка.

**Oleksandr Ishchenko** [00:09:32 - 00:09:48]: Все, Вова уже в правильном месте. Извините, просто не хотел документ портить.

**Semeyon S** [00:09:48 - 00:10:03]: Давайте еще пару минут, да будем начинать. Напомните, как там в школе, 10 или 15 минут успел забыть.

**Oleksandr Ishchenko** [00:10:03 - 00:10:10]: Мы тут звонок все равно проводим, ну, без комментариев, просто демо, а может вопросы какие-то обсудим.

**Semeyon S** [00:10:10 - 00:10:26]: То, что Дэна нет, звонок не отменяется. Это очень правильная команда проводить демо для себя.

**Oleksandr Ishchenko** [00:10:26 - 00:10:41]: Устоявшаяся практика, кстати, на многих компаниях. Так, запись есть, линку я скину.

**Semeyon S** [00:10:41 - 00:11:11]: Ладно, что-то мне подсказывает, что Дэна не будет. Давайте начинать. Гурген, слово тебе, Strategic Planner. Слово и экран.

**Gurgen** [00:11:14 - 00:11:30]: Всем привет. Тут Accept All. Тут статус пока Pending. Нажимаем Accept All.

**Semeyon S** [00:11:31 - 00:11:57]: Ничего не понятно. Скажи два слова. На каком-то экране находишься, с точки зрения пользователя, какой экшен делаешь, что ожидается. Потом уже кратенько про этот экшен. А то что-то зашел, куда-то ткнул, что произошло.

**Gurgen** [00:11:57 - 00:12:04]: Что потом получится. Ну, я только это сделал, пока на этой странице. Ну, это Strategic Planner.

**Semeyon S** [00:12:10 - 00:12:39]: Ну, вот ты, условно, Route Manager, ты зашел на список сценариев. Выбрал какой-то сценарий. Решил создать из них маршруты. Зашел на этот сценарий. И, собственно, с этого момента более подробно рассказываешь, что ты делаешь и как ты делаешь. Какие решения были приняты, почему.

**Gurgen** [00:12:44 - 00:12:50]: Хотим назначить все рауты как мастер или как обычные.

**Semeyon S** [00:12:51 - 00:13:00]: У нас есть две кнопки. Создать, не назначить, создать. У нас нет этих еще маршрутов. И этот сценарий позволяет их создать.

**Gurgen** [00:13:00 - 00:13:45]: Ага. Рассказывай. Ну, у нас есть Status in Progress, Bending, Accepted, Failed. Когда делаем Accept All, Status in Progress, ждем пока, пока все это сделает. И получаем ответ Accepted или Failed. Или там, какой еще статус был, Partially Completed, кажется.

**Semeyon S** [00:13:46 - 00:13:49]: Каким образом ты получаешь эту информацию?

**Gurgen** [00:13:52 - 00:13:54]: Ну, из Pusher сейчас.

**Semeyon S** [00:13:57 - 00:14:01]: Какие-то еще апдейты через Pusher происходят в Strategic Planner?

**Gurgen** [00:14:02 - 00:14:04]: Пока нет.

**Vova** [00:14:05 - 00:14:10]: Подождите, а можно еще один вопрос?

**Gurgen** [00:14:10 - 00:14:15]: Значит, вы сказали, статус может быть Partially Completed?

**Vova** [00:14:15 - 00:14:29]: Кажется, да. Но этот сценарий, его же, это типа, это относится к инстанцированным маршрутам, которые этот сценарий, да? Partially Created.

**Semeyon S** [00:14:30 - 00:14:57]: Created. Это технический статус, который говорит о том, что произошло, асинхронно, у нас же асинхронно создаются маршруты, вот пошло создание тысячи асинхронных маршрутов, что-то сломалось, и у тебя создано там из тысячи девятьсот. Я понял. Вот, и вся тысяча, она не будет в одной транзакции, никак, чтобы откатить. Вопрос отменяется, да.

**Vova** [00:14:57 - 00:15:02]: Доврон просто слово перепутал.

**Semeyon S** [00:15:02 - 00:16:08]: Окей, небольшой апдейт для всех. Мы, в принципе, уже готовы это деплоить на продакшн. Вот последний момент выясняем, чтобы мы все-таки скоординировали и выкатили хуановский с FTP сервис на продакшн. Вот, на его стороне вроде тоже все готово. Вот. И пока мы оптимистично назначили деплой на завтра, на наше утро, в зеленое окно. Вот, как оказалось, вне зеленого окна катить немножко рискованно, потому что там микросервис Rails. И, собственно, у нас будет первая версия Strategic Planner. Если есть какие-то вопросы, то давайте задавать их, если нет, то пройдем дальше. Я тогда анонс отправлю. Ну, ты у Олега уточни. Вот.

**Artur Moskalenko** [00:16:08 - 00:16:13]: Подожди, а анонс зачем?

**Semeyon S** [00:16:13 - 00:16:24]: Мы же не релизим, мы деплоем. Нет, нет.

**Artur Moskalenko** [00:16:24 - 00:16:30]: Я так и опишу, что это for testing purposes.

**Semeyon S** [00:16:33 - 00:17:09]: Ага, ну то есть это просто деплоем. Да, в принципе. Окей, окей. Да, в письме напиши, что будут видеть сервис только тестеры на продакшен. Пока мы не убедимся, что все окей, и не включим сети Медиа. Окей, тогда, Гурген, большое тебе спасибо. Вот. Владимир, слово тебе.

**Vladimir Fedorov** [00:17:10 - 00:17:57]: Всем здравствуйте. Одну секунду. Так, вот мой экран. У меня сегодня три снапшота. Два старых и один новый. Начнем с кастингер снапшота. Итак, клиент заходит на страницу кастингер, нажимает кнопочку open и открывает кастингер снапшот. И снова, кроме мелких правил, добавилась вот эта кнопка, которая позволяет создать пользователю новую локацию. Сейчас мы редиректим на страницу кастингер локейшн, добавил экшен, локацию можно создать. Так, все остальное ок.

**Artur Moskalenko** [00:17:57 - 00:18:06]: Sorry, Владимир, секунду прерву. Там не призаполненный был кастингер, кажется. Смотри, кастингер, он пустой.

**Vladimir Fedorov** [00:18:07 - 00:18:09]: Да, он сейчас пустой.

**Artur Moskalenko** [00:18:11 - 00:18:19]: По идее он призаполнен. Артур, поэтапно.

**Semeyon S** [00:18:19 - 00:18:23]: Сейчас такой кастиль, а в следующий этап сразу же дроуэр будем встраивать.

**Vladimir Fedorov** [00:18:26 - 00:19:43]: Да, то есть передавать параметры на первый этап, который будет переписываться, наверное, смысла нет никакого. Будет в следующий раз, нажавте кнопочку, открываться вот этот дроуэр и уже заполненным кастингером всеми необходимыми полями. Я предлагаю, давайте сначала задеплоим что-нибудь, ну не что-нибудь, рабочую версию такую, потом дадеплоим, ну в смысле будем его доделывать, как только получим первый фидбэк. Так, есть вопросы по кастингер снапшоту? Если нет, я тогда перехожу к следующему снапшоту. Так, ордер снапшот. Вот он выглядит. Из что поменялось, в прошлый раз были моки на ноутах, теперь ноуты переименовали в визит репортс и переделали в табличку, согласно последнему дизайну. Дизайн он сейчас с последней фигмой не совпадает, она меняется, как только она стабилизируется, сразу прикрутим из того, что останется. Останется и колонка attachment, и какая-то реакция на колонку attachment. В данном случае показывается картинка.

**Vova** [00:19:44 - 00:19:55]: Вот это мы переделали немножко, attachment немножко не так уже выглядит. Мы как раз именно отображение attachment подполировали.

**Vladimir Fedorov** [00:19:56 - 00:20:07]: Да, я это видел, единственное, что я видел в прошлой версии, тут были какие-то имена файлов, сейчас он опять изменился, я поэтому не жду пока универсальной версии.

**Vova** [00:20:07 - 00:20:13]: Это не опробленная версия все еще, но мы пока правок больше не будем носить.

**Vladimir Fedorov** [00:20:14 - 00:20:18]: Окей, ну тогда этот можно опробить, и я поменяю.

**Vova** [00:20:19 - 00:20:21]: Если Дэн придет сегодня, я ему задену макет.

**Vladimir Fedorov** [00:20:23 - 00:20:35]: Окей. Так, тут тоже, собственно, по attachment один был вопрос, тоже все готово, и еще вопрос, запроблено ли вот это VisitReports? Нет, нет.

**Vova** [00:20:35 - 00:20:48]: Может быть это еще будет драйвер Reports, вторая версия. Да. И возможно, в общем, я не могу предсказать, что Дэн скажет, но…

**Vladimir Fedorov** [00:20:48 - 00:21:02]: Тогда у нас, если по этому snapshot, два вопроса. Первое, approve вот этого таба, второе, финальный вариант attachment. В всем остальном, первая версия готова.

**Vova** [00:21:03 - 00:21:15]: Тебе потеряли здесь actionName. actionName? Да, потому что когда это proof of visit action, у него есть кастомизируемое имя.

**Vladimir Fedorov** [00:21:17 - 00:21:32]: Это не ActivityType, случайно? Вот у нас type, actionType. Исходя из actionType, заполняем dropoff, onPaid, pickup, dropoff.

**Vova** [00:21:32 - 00:22:09]: Да, это тип action, stopType. Это не тот, type это не тот. Там может быть либо заметка, либо proof of visit action какого-то типа. В этой таблице выводятся результаты workflow actions и заметки в одной общей каше. И у workflow actions, у них есть тип action и имя action.

**Vladyslav Feshchenko** [00:22:12 - 00:22:14]: Я понял, мы это не добавляли, Вова.

**Vladimir Fedorov** [00:22:14 - 00:22:21]: А Activity мы дропаем его? А что такое Activity? Ну вот ActivityType это… ActionType?

**Semeyon S** [00:22:21 - 00:22:24]: Нет.

**Vova** [00:22:26 - 00:22:34]: ActivityType, я понял, это обязательное поле в заметке. Это тип заметки типа.

**Vladimir Fedorov** [00:22:35 - 00:22:36]: Ну да.

**Vova** [00:22:37 - 00:22:41]: А это можно оставить в колонке type, правильно? Но только для заметок.

**Vladimir Fedorov** [00:22:43 - 00:22:47]: А тут только заметки. Тут API, который мы получаем.

**Vova** [00:22:50 - 00:22:52]: Вы сюда не пихаете proof of visit вообще?

**Vladyslav Feshchenko** [00:22:52 - 00:23:01]: Нет, workflows тут нет. Их нужно тогда в таком случае будет добавить. Они отдельно и мэнпоинтом идут. Это к нотам не относится.

**Vova** [00:23:01 - 00:23:03]: Но это должно быть вместе.

**Vladimir Fedorov** [00:23:05 - 00:23:46]: Насколько я понял, когда мы с Дэном обсуждали, то он говорил, что нужно добавлять новые табы и в табах какие-то еще дополненные информации. Там, я точно помню, были бар-коды и надо еще раз пересмотреть. Возможно, стоит все это дело отдельно держать? В разных табах? Зачем? То, что Дэн сказал? Или нет? Ну ладно, давайте тогда договоримся по поводу следующей версии. Бэку нужно добавить сюда еще данные. Мне нужно выводить две новых колонки. ActionType, ActionName, наверное, ActionType и Type, правильно? Type мы же оставляем или как-то переименовываем.

**Vova** [00:23:47 - 00:23:59]: Для ноута Type по идее всегда Note. В Name можно вот этот ActivityType искать.

**Vladimir Fedorov** [00:24:00 - 00:24:02]: Хорошо, я понял.

**Vova** [00:24:03 - 00:24:12]: Но если вы не выводите туда Proof-of-Usage-Action, то вообще все ломается шаблонами.

**Vladimir Fedorov** [00:24:15 - 00:24:28]: Хорошо. Значит, бэка. Или как-то этот, чтобы он добавил туда необходимую информацию. Так, еще что-нибудь по BorderSnapshot?

**Semeyon S** [00:24:32 - 00:24:40]: Я вижу, у тебя здесь есть кастомные поля от ноутов, но нет DisplayColumns. Еще отсутствует User, кто делал заметку.

**Vova** [00:24:40 - 00:24:44]: Это очень важно.

**Vladimir Fedorov** [00:24:46 - 00:25:21]: Да, User я добавил. По поводу DisplayColumns. Вот мы говорили насчет конфигураторов в прошлый раз. Мы же это не на фронте делали. Нужен полноценный конфигуратор, который будет отправлять данные на бэк, и который будет возвращать. Для этого нам нужен комбайн-метод. Насколько я понимаю, комбайн-метод не предусматривается пока.

**Semeyon S** [00:25:22 - 00:25:59]: Это по обстановке. Если бэк может сделать быстро здесь комбайн-метод, ну пусть сделают. Если не могут сделать, мы тогда делаем фейковый DisplayColumns. В том плане, что давайте уберем, чтобы не мозолило. Ну, таскаем лишние данные пока. Я вижу только то, что мне полезно, а не все подряд. Потому что эти горизонтальные скроллы, не знаю как у вас, но когда я их вижу везде в интерфейсах, ну я сейчас в принципе про любые UI, они меня раздражают.

**Vladimir Fedorov** [00:25:59 - 00:26:14]: Да, со скроллами полностью согласен. Это очень хороший пример, потому что тут очень много кастом-полей, она обычно 1-2. Итого, мы конфигуратор DisplayColumns тут делаем фронтовый. Прикручиваем.

**Semeyon S** [00:26:15 - 00:26:17]: Ну, повторю, по обстановке.

**Vladimir Fedorov** [00:26:18 - 00:26:22]: Ну, Игорь сказал в прошлый раз, что нет комбайн-метода.

**Semeyon S** [00:26:22 - 00:26:23]: Ну тогда, тогда фронтовый.

**Vladimir Fedorov** [00:26:24 - 00:26:58]: Окей. Хорошо. Подытожим. Лейбл аппровится. Аттачмент ждем аппрова дизайна, переделаем. Добавляем новые данные от бэка. Добавляем, как будто новые данные, меняем Type на Node. Добавляем ActivityType, ActivityName для Activities. И конфигуратор. Ну, конфигуратор я могу с этим работать уже сейчас. Фронтовый. Еще что-нибудь?

**Semeyon S** [00:26:59 - 00:27:18]: Насчет этих полей, надо посмотреть, надо, чтобы сначала QA добавили данные из Workflow. Посмотреть новые Endpoint и поднять звонок Дэна прошлый с этими табами. Вот, то есть, надо немножко доразобраться.

**Vladimir Fedorov** [00:27:20 - 00:27:21]: Да, согласен.

**Semeyon S** [00:27:21 - 00:27:27]: Я не готов тебе сказать, что вот то, что ты сейчас описал, надо делать. Надо доразобраться.

**Vladimir Fedorov** [00:27:28 - 00:28:39]: Ну, то, что надо делать, точно минимум нам нужно добавить конфигуратор. Да. Да, хорошо. Так. Переходим к следующему новому снапшоту. Это CustomerLocationSnapshot. У нас тут слева почему-то ничего нет. Секунду. Какие-то эти... Прошу прощения, это вариант экзамена. Так, слушайте, почему-то сейчас ничего не показывает. Так что все было, давайте я возьму паузу, пока кто-то другой рассказывает, и вам покажу его через некоторое время. Хорошо? Я не знаю. Слышно меня?

**Semeyon S** [00:28:39 - 00:28:44]: Да, слышно. Тебе нужно время пока передать слово следующему.

**Vladimir Fedorov** [00:28:45 - 00:28:48]: Да, передайте, пожалуйста, слово следующему. Я не знаю, что произошло.

**Semeyon S** [00:28:48 - 00:28:52]: Окей. Алексей Кусинцов, тебе пока слово. Всем привет еще раз.

**Alexey Gusentsov** [00:28:52 - 00:29:39]: Привет. Так, моя собственно тема это OptimizationSnapshot на данный момент. Значит, по очереди, как на него собственно попасть, и чего нового добавилось. На RouteSnapshot теперь у нас есть линка на OptimizationSnapshot, и с него можно на него прекрасно попасть. Так, сейчас будем про подготовленное смотреть. Значит, нет, кстати, мы вернемся попозже. Сначала UFX были минимальные, значит, у нас линка есть на, сейчас, секунду, когда у нас Completed или Started Route, у нас есть Overview, у нас есть линка на Routes здесь, и если один Snapshot, она ведет на RouteSnapshot, как сейчас, если два и более, она ведет на RoutesMap.

**Semeyon S** [00:29:39 - 00:29:46]: Legacy пока RoutesMap, да?

**Alexey Gusentsov** [00:29:46 - 00:31:12]: Да, все так, все так. И у нас, то есть, вот эта вот секция Overview точнее ее нет, если у нас статусы Planet или там другие, не Completed, не Started, и мы сделали пока что кнопочку сюда справа, чтобы можно было отсюда попасть, если нужно посмотреть. Собственно, вот мы видим, если у нас два роута, на RoutesMap попадаются отрисованными. Да. Так, паддинги поправились, Edit Optimization тут была кнопка, мы пока ее убрали, как мы это говорили после прошлого звонка, пока у нас нет Optimization профайла Snapshota. Вот. Да. Теперь, да, теперь к сеттингам. Значит, сеттинги я уже прикрутил, скажем так, первую версию к APIC, в общем, заменил моки на реально данные. Пока что получилось вот что, значит, из минимальных наборов у нас вот такое есть. StartDate, StartTime, максимальное количество роутов, MaxDuration. Из такой же, из чуть побольше варианта с гетерогенной оптимизацией, это когда у нас уже есть какое-то разделение, у нас вот есть, может быть, например, одна гетерогенная оптимизация, точнее не так, гетерогенная оптимизация, может быть, один профайл, а есть вариант с двумя профайлами, вот так это будет выглядеть в целом, даже как будто бы симпатично, и не очень много.

**Vova** [00:31:15 - 00:31:35]: Я не уверен, что когда у нас гетерогенная с одним профайлом, нам нужно создать отдельную секцию, как будто бы мы можем пустить это одной сплошной вариантой. Пока это один профайл, пока у нас нету нескольких наборов сеттингов, незачем бить этот список на секцию.

**Alexey Gusentsov** [00:31:36 - 00:32:16]: Логично, ну, с точки зрения логики возможно, но надо уточнить, почему это разделено на backend, потому что если нет гетерогенной оптимизации, то вот эти вот поля, если они есть, они, вот видишь, у меня выводятся, они приезжают отдельно. Они приезжают просто в запросе. А если у нас гетерогенная оптимизация, то для этого есть специальный отдельный массив, в котором указываются. Указываются вот эти вот данные. И эти данные берутся из массива, и, соответственно, здесь… Ну, это просто нюансы имплементации API, я думаю. Ну, это надо уточнить, скорее всего, потому что я не уверен. Ну, мне не проблема сделать это сплошным, если одна, собственно, один профайл, это не проблема сделать сплошным. Я себе помечу на всякий случай.

**Igor Skrynkovskyy** [00:32:22 - 00:32:39]: Мы это можем учесть, потому что мы с Алексеем об этом говорили, с Фанасьевым. Но Вова прав, что у нас так и есть, что если параметры одинаковые, мы их как бы схлопываем в базовые параметры.

**Vova** [00:32:39 - 00:32:53]: Ну, и здесь абсолютно то же самое. На стороне UI. Если параметры одинаковые, схлопываем. Если всего один набор, то схлопываем. Если два разных набора схлопываем в этих секциях.

**Alexey Gusentsov** [00:32:53 - 00:33:37]: Да, я пометился тогда, в такой ситуации это мы схлопываем вот в такой вариант. Окей. Пожалуй, из того, что показать именно какие варианты разновидности есть, это все. Есть, скорее, такой, наверное, вопрос, может, больше к Игорю. Мы как-то ходили с Олегом, и Вова сказал, что есть возможность через API делать разные, например, не знаю, но было также отображено в группах таких, господи, вот. То есть, условно, что-то из этих полей тоже может быть разбито надвое.

**Igor Skrynkovskyy** [00:33:38 - 00:34:10]: Да, я Афанасию, Алексею давал полный список всех параметров, которые могут меняться в каждой из групп. Условно, смотрите, условно вот это каждая из групп, это Advanced Constraint. Вот этот Advanced Constraint это копия всех параметров, которые мы можем использовать для общей оптимизации. То есть, вот этот базовый набор. Там же и время входит, там же и количество маршрутов, максимальное destination и так далее.

**Alexey Gusentsov** [00:34:16 - 00:34:19]: Ну, в общем, у Алексея эта информация есть, я попрошу ее.

**Oleg Pravyk** [00:34:20 - 00:34:40]: Сорри, я немножко встряну. Тут вопрос в том, что, например, мы при создании оптимизации задаем, что для оптимизации максимальное количество раутов возможных, например, 2, как в данном случае. И как сделать так, чтобы было 2 таких параметра?

**Igor Skrynkovskyy** [00:34:42 - 00:34:44]: Что имеется в виду 2? Типа в каждой из групп?

**Oleg Pravyk** [00:34:45 - 00:34:52]: Да. Ну, вы просто в одну группу передаете одно значение, в другую группу вы передаете другое значение.

**Alexey Gusentsov** [00:34:58 - 00:35:02]: И список вот этих вот полей, которые значения можно передавать, ты говорил, что ты передал Алексею Афанасию.

**Igor Skrynkovskyy** [00:35:02 - 00:35:12]: Да. Это весь список, такой же самый, как у нас есть для общей оптимизации. А, так это то есть в любой из этих полей в теории может быть уже все. Вопрос нет.

**Vova** [00:35:12 - 00:35:16]: Оптимизационный engine принимает один либо несколько новых settings.

**Semeyon S** [00:35:16 - 00:35:21]: А что конкретно значит v0, v1?

**Vova** [00:35:21 - 00:35:30]: Это должны быть имени на ethical profiles в данном случае. Это конфигурация 1.

**Semeyon S** [00:35:30 - 00:35:34]: Пусть Алексей скажет, что он там сделал.

**Vova** [00:35:34 - 00:35:39]: Было бы здорово, если бы мы пробрасывали сюда именно профайл имени.

**Igor Skrynkovskyy** [00:35:39 - 00:35:47]: А это не профайл, это любое значение, которое может быть не знаю, в мире или в чем-то другом.

**Vova** [00:35:47 - 00:35:49]: А как оно задается?

**Igor Skrynkovskyy** [00:35:51 - 00:35:59]: Автоматические системы. Потому я его с самого начала говорил, что вы его называете или группа, или конфигурация 1, конфигурация 2.

**Alexey Gusentsov** [00:35:59 - 00:36:06]: То есть это не кастомное значение, которое нужно выводить пользователю, которое он сам задал. Тут нужно название собственное. Сегмент 1, сегмент 2.

**Igor Skrynkovskyy** [00:36:07 - 00:36:36]: То, что Вова говорит, для каждой из группы можно задать свой набор или свой профайл и все будет. Но вот эти сами значения, которые есть, это не кастомерские значения. Это просто значения и было бы здорово, мы же эти значения берем из Vehicle Profiles, из Capacity Profiles при гетерогенной оптимизации.

**Vova** [00:36:36 - 00:36:39]: Нет, нет.

**Igor Skrynkovskyy** [00:36:39 - 00:36:43]: Это один из 10-20 кейсов, когда мы можем использовать Vehicle Profiles.

**Vova** [00:36:43 - 00:36:56]: Я понимаю, но вот в этом кейсе, когда мы берем их из Vehicle Profiles, было бы здорово, чтобы мы пробросили имя профайла сюда, чтобы мы не потеряли это свет.

**Igor Skrynkovskyy** [00:36:56 - 00:37:24]: Мы можем любое, все что угодно мы можем это сделать, вопрос просто в том, что именно нам нужно добавить. Потому что у нас где-то мы называем это именем мембера, где-то у нас это Vehicle, где-то у нас это профайл или что-то другое. V1, V2 это просто для нас это внутреннее название для того, чтобы группировку сделать.

**Alexey Gusentsov** [00:37:24 - 00:37:44]: Все, я понял, я уже изменил, ну и собственно, если будет 3, условно. Тогда у меня вопросов нету. Я, пожалуй, все, что хотел показал, какие-то вопросы может быть есть. А можешь развернуть план Details?

**Vova** [00:37:51 - 00:37:57]: Мили с маленькой.

**Semeyon S** [00:37:57 - 00:38:03]: Мили должны быть с маленькой, у тебя с большой написано в Planet Distance.

**Alexey Gusentsov** [00:38:04 - 00:38:05]: Да, я понял, я помечаюсь.

**Semeyon S** [00:38:07 - 00:38:10]: А скроллинг у тебя есть в левой колонке или просто так?

**Alexey Gusentsov** [00:38:11 - 00:38:14]: И он такой, пропадает, появляется, когда нужно.

**Vova** [00:38:14 - 00:38:29]: И еще там travel, service, то в минутах, то в часах. Это ужасно неудобно читать. Лучше всего все в минутах и часах показывать.

**Alexey Gusentsov** [00:38:29 - 00:38:35]: Записать 0, 0, travel time, 0 часов, 26 минут.

**Vova** [00:38:35 - 00:38:50]: Service time, 1 час, 0, 0 минут. Потому что вот в такой форме, когда каша, то минута, то часы, сложно мозгу воспринимать. Неконсистентное.

**Alexey Gusentsov** [00:38:50 - 00:38:58]: Когда меняется с каждой строчкой тип данных. Окей, я пометил.

**Vova** [00:38:58 - 00:39:01]: И их неудобно сравнивать между собой в этой форме.

**Alexey Gusentsov** [00:39:01 - 00:39:12]: По поводу скролла, Семен, есть такие параметры из больших и, собственно, убирается, когда нужно.

**Semeyon S** [00:39:16 - 00:39:30]: Нажми, пожалуйста, вот в экшены open route, в табе routes, какие там экшены сейчас. Не-не-не-не, подайку, я хотел в стритке экшен. Ага, open и edit route пока только. Destination.

**Alexey Gusentsov** [00:39:30 - 00:39:34]: Там ничего, по-моему, ни одной кнопки нет. Ну, надо добавить open destination как минимум.

**Semeyon S** [00:39:34 - 00:39:37]: А еще нет. У нас нет пока снапшота.

**Alexey Gusentsov** [00:39:38 - 00:39:41]: Ну, я имею в виду, что в будущем что я буду кнопкой open destination.

**Semeyon S** [00:39:41 - 00:39:44]: Ну, в будущем, да.

**Vova** [00:39:44 - 00:39:48]: В будущем?

**Semeyon S** [00:39:48 - 00:40:03]: Ну, пока не добрались. Владимир какой-нибудь из снапшотов первую версию закончит, он возьмет в работу. Чтобы у нас хотя бы базовый был. Мне казалось, что снапшот у нас был.

**Vova** [00:40:03 - 00:40:10]: Ну, он был, видимо. Он был кривой.

**Semeyon S** [00:40:10 - 00:40:17]: Кривой с этими, с барами. И он в том состоянии пока и остался.

**Vova** [00:40:18 - 00:40:19]: Я понял.

**Semeyon S** [00:40:20 - 00:40:23]: Угу. Так, ну, если... Алексей, у тебя все?

**Alexey Gusentsov** [00:40:25 - 00:40:32]: Да. А, по-моему, я забыл сюда добавить. Так нужно добавлять иконку после show on map или нет? Или так пойдет кнопка просто?

**Semeyon S** [00:40:33 - 00:40:50]: Я считаю, что сейчас выглядит ужасно. Потому что, ну, полное нарушение стиля. Залайнено хорошо, но я бы сделал иконку со стрелочкой, но я считаю, что сейчас тебя выкинет другую табу.

**Vova** [00:40:50 - 00:41:02]: Это должна быть не outlined кнопка, потому что, ну, там кнопки все другие не outlined в этой панели. Немножко странно делается каша из разных типов кнопок.

**Alexey Gusentsov** [00:41:02 - 00:41:12]: Тогда field кнопку и иконку может быть ту, которую ты предлагал с roads map, вот эту вот. Я потерял ее. Вот эту вот.

**Semeyon S** [00:41:18 - 00:41:21]: В этой иконке не хватает стрелочки, которая укажет, что это в другую табу откроет.

**Vova** [00:41:21 - 00:41:29]: Ну, думаю, не так уж принципиально, но... Ну, это внимание к деталям.

**Semeyon S** [00:41:29 - 00:41:33]: Мы такую штуку делаем на линках, а не на кнопках.

**Vova** [00:41:33 - 00:41:49]: Может быть. Не прям такую же, а схожую. Но схожую, да, может быть, кнопку. Да.

**Oleg Pravyk** [00:41:49 - 00:41:56]: Может tooltip добавить на эту кнопку. Да и на все, в принципе, может.

**Semeyon S** [00:41:56 - 00:42:20]: Tooltip нужен в любом случае. То есть это как бы априори. Окей. К Алексею по поводу optimization snapshot еще есть какие-то вопросы? Владимир, ты можешь вернуться и закончить?

**Vladimir Fedorov** [00:42:26 - 00:42:52]: Так. Location snapshot. Вот он так выглядит. Две вкладки. Визит у нас на MOOC. Непонятно, откуда брать информацию. Может быть, этот Игорь что-нибудь расскажет. Роутс. Без роутов. Вот он с роутами. Роутс полностью работает. Все хорошо. Комментировался конфигуратор.

**Vova** [00:42:52 - 00:42:56]: А как вы берете роутсы, если вы не знаете визит? Визит это есть, это destination.

**Vladimir Fedorov** [00:42:58 - 00:43:05]: Так, мне подсказали, что роутс можно получить, если прокидывать айдишник локации через параметры контакта ID.

**Semeyon S** [00:43:07 - 00:43:16]: Вова, это уже технический вопрос. Могут быть нюансы.

**Vova** [00:43:20 - 00:43:43]: Просто это один и тот же. Ситуально получить созданные из этой кастомер локации, потом получить роуты, в которых есть эти destination. Чтобы получить роуты, вы должны получить список destination на пути. У вас уже есть роуты с destination, по идее. Каким-то образом в промежуточном этапе получались уже.

**Vladimir Fedorov** [00:43:44 - 00:43:55]: Это, наверное, больше к бэку вопрос, как организовать даже конкретный запрос. Ну, что там делаешь выбор из базы. У тебя все есть?

**Semeyon S** [00:43:55 - 00:43:59]: Владимир, ты с визитами разобрался или руки не дошли?

**Vladimir Fedorov** [00:44:00 - 00:44:07]: Так, визиты у нас намок. Мили снова с большой буквы. Где, где, где?

**Vova** [00:44:08 - 00:44:09]: В другой табе были мили.

**Vladimir Fedorov** [00:44:09 - 00:44:11]: А, где?

**Semeyon S** [00:44:13 - 00:44:16]: В табе, в табе на снапшоте.

**Vladimir Fedorov** [00:44:19 - 00:44:27]: В смысле, на роутах? Да. О, хорошо. Значит, у нас еще где-то в роутах.

**Vova** [00:44:27 - 00:44:38]: Еще я хочу. Дэн пару месяцев назад запробил убирание двоеточия. Мы его до сих пор не убираем. Мы это будем делать централизованно.

**Vladimir Fedorov** [00:44:39 - 00:44:51]: Это хорошо, что сказали, что в роутах я использую стандартный компонент, на всех снапшотах. Давайте уберем, давайте централизованно уберем.

**Semeyon S** [00:44:52 - 00:45:02]: Владимир, возвращаясь к моему вопросу, ты разобрался с апишкой с помощью QA с визитами или нет? Или руки не дошли?

**Vladimir Fedorov** [00:45:02 - 00:45:14]: Нет, мы как раз с Владом и Максимом пытаемся разобраться, можно ли использовать destination IPS, передавая туда контакт ID. Но, насколько понимаю, нельзя.

**Vladyslav Feshchenko** [00:45:16 - 00:45:23]: Можно моментально Я нашел с ордерами то же самое. На ордерах есть такой endpoint.

**Semeyon S** [00:45:23 - 00:45:35]: По ордеру ID можно вытащить. Владислав, этот звонок для вот этой вот разборки. Если у вас блокер, вы мне список этих блокеров отправьте в личку, я разберусь.

**Igor Skrynkovskyy** [00:45:38 - 00:45:46]: Зачем отправлять, ребята? Вы же знаете, куда ходить. Есть Саша Ковтунов, есть Саша Делевский. Крайний испуг, вы ко мне придете.

**Vladimir Fedorov** [00:45:46 - 00:45:53]: Так, я два раза написал по поводу платки визит. Позавчера, вчера, пока без ответа.

**Semeyon S** [00:45:53 - 00:45:55]: А меньше на кого ты писал?

**Vladimir Fedorov** [00:45:55 - 00:45:58]: На Игоря и на Ковтунова. На Делевского не писал.

**Igor Skrynkovskyy** [00:46:00 - 00:46:15]: Окей, сейчас посмотрим. Да. То, что вы говорите, это destination с фильтрами. Оно все должно работать. Все работает 100%. То есть, если мы используем комбайн destination визит, то прям вообще будет шикарно.

**Vladimir Fedorov** [00:46:15 - 00:47:11]: Тогда я это все дело прикручу и у нас на визите будет свой API. Единственное, что, наверное, будет ViewMod добавить свой. Ну, я думаю, окей, все будет. Так. Еще что-то, Владимир? Все, по Customer Allocation все. Единственное, что я хотел бы напомнить, раз уже без Дэна. У меня еще конфигуратор Roles Create висит с Legacy переход на вторую версию. Я бы выделил себе один день, если такая возможность будет между снапшотами, все-таки бы его добил. Там висят в Legacy большие правки по ее инициации. В Legacy сейчас работы не ведутся, вряд ли они пройдут. Но все-таки пока я помню, хорошо бы это дело тоже добить. Там какие-то прям оставались мелкие правки.

**Semeyon S** [00:47:13 - 00:47:15]: Владимир, вот для этого точно не тот звонок.

**Vladimir Fedorov** [00:47:16 - 00:47:17]: Хорошо, у меня все.

**Semeyon S** [00:47:22 - 00:47:36]: Какие-то вопросы по этим снапшотам у Владимира остались? Нет? Ну, видимо, нет. Так, Алексей у нас отстрелялся. Доврон, слово тебе.

**Davron Usmonov** [00:47:38 - 00:48:38]: Всем привет. Второй экран. По странице Customer Allocation у нас появилось три сущности для фартей, которые затребовал Дэн, его юзера и фасилити. Еще есть радера, которые Дэн сказал сделать, но мы пока заблочены бэкэндом. Как только появится бэкэнд, мы их тоже прикрутим. Фасилити пока что маркерами отличаются только цветом. Отображаются они вот таким вот образом. Также у нас есть юзера. Функционалы юзеров взяты с раутинга. Вот с их же визуалом. Так вот отображаются.

**Semeyon S** [00:48:39 - 00:48:43]: Убери территорий. Ну невозможно смотреть, ничего не видно.

**Davron Usmonov** [00:48:47 - 00:48:52]: Ну и фасилити. И у нас есть пиклав.

**Vova** [00:48:56 - 00:49:07]: Мы, по-моему, подбирали разные цвета для пиклав и юзеров. Должны быть разные, да. Есть в картографическом гайдлайне. Бежат.

**Davron Usmonov** [00:49:08 - 00:50:02]: Я посмотрю. У нас с раутинга. Я сравню и поменяю. Так, следующий такой корфункционал у нас был инфоблок, который относится к кастомер локейшнам. Сейчас он выводится вот таким вот образом. А не портянкой со скроллом. Есть у нас кастомер снапшот, поэтому у нас тут переход на страницу кастомер снапшота. Далее тут отображается информация. И здесь адреса, координаты и кастомер дата, который юзер добавляет. Пока что у нас недоступен кастомер локейшн снапшот. Как только он появится, мы его сюда тоже по примеру кастомер снапшота прикрутим.

**Semeyon S** [00:50:03 - 00:50:07]: Ну подожди, ты же за фичой уже можешь прикручивать. Он уже есть.

**Davron Usmonov** [00:50:08 - 00:50:17]: Я буквально 20 минут назад услышал, что он появился. Я, если не ошибаюсь, вчера или позавчера запрашивал у Алексея. Он сказал, что страница в разработке.

**Semeyon S** [00:50:18 - 00:50:25]: Ну, страница в разработке, но фичи-то уже наверняка есть. Сходи к Владимиру напрямую.

**Davron Usmonov** [00:50:27 - 00:50:57]: Да, я этим займусь. Совместно с Владимиром, как бы с двух концов, у нас прикручен функционал создания нового локейшна. Он отсюда делает индирект, а я на странице кастомер локейшн его перехватываю. Услышал задачу, что нам нужно предзаполнять кастомера. Будем, как бы, заранее делать. И небольшие...

**Vladimir Fedorov** [00:50:59 - 00:51:07]: Можно ремарку сразу? Извините, не надо тебе предзаполнять кастомера. Это я сделаю. Вот прям не надо. Не делай лишнюю работу. Там сейчас все окей.

**Davron Usmonov** [00:51:08 - 00:51:22]: Нет, нет, я имею в виду, что роутинг уже готов. По примеру, кастомеров. То есть достаточно просто прописать ссылку, которую мы делаем на кастомерах, и тут уже будет работать то, что ты говоришь.

**Vladimir Fedorov** [00:51:24 - 00:51:25]: Вообще супер.

**Davron Usmonov** [00:51:28 - 00:52:04]: И у меня были небольшие изменения, по большей части визуальные на странице кастомерс. Для контактов, для телефонов добавили иконочки, ссылочки, дизайн по примеру наших страниц снапшотов. Также после изменения бэка у нас немного поплохела страница кастомерс. Вот, и мы пофиксили вот эти баги. Иначе все экшены, связанные с крудом кастомеров, были полностью сломаны. Это под работой, это мы не увидим.

**Vova** [00:52:05 - 00:52:11]: Я так что видел экстернальный линк на телефон. Это что произойдет, если кликнуть на телефон?

**Davron Usmonov** [00:52:12 - 00:52:14]: Так, FaceTime.

**Vova** [00:52:16 - 00:52:17]: В новой таве, да?

**Davron Usmonov** [00:52:18 - 00:52:21]: Да. Звонить не буду.

**Vova** [00:52:25 - 00:53:12]: Как будто бы там нужна другая иконка скорее для звонка. И поп-ап открывать новую таву. Как будто бы звонить можно прямо из этой тавы и иконку поменять. То есть звонок – это не экстернальный линк. И писать e-mail тоже, в принципе, это не поп-ап. Это mail to ссылка, которая в любом случае открывает твою почтовую программу. В общем, эта иконка для тех случаев, когда мы открываем новую таву.

**Davron Usmonov** [00:53:12 - 00:53:17]: Ну вообще, вот эта вот ссылка, она и открывает окно с переходов.

**Vova** [00:53:18 - 00:53:22]: Она открывает твою почтовую программу, да, а не новый окно в браузере.

**Davron Usmonov** [00:53:25 - 00:53:28]: У нас есть место, где мы это согласовали.

**Vova** [00:53:28 - 00:53:35]: Нет, мы вам это нарисуем. Это я только что заметил немножко странную иконку. Мы вам нарисуем и дадим.

**Davron Usmonov** [00:53:37 - 00:54:03]: Как появится, мы выбираем иконку, и мне кажется, что она будет очень, очень интересна.

**Vova** [00:54:03 - 00:54:21]: А то, что мы занимаемся, то есть мы не знаем, что мы будем делать. Мы не знаем, Да, оно есть. А здесь должны быть bulk actions с этим, с selected locations. Они отсутствуют.

**Davron Usmonov** [00:54:22 - 00:54:25]: Ну, сейчас единственный bulk action – plan route.

**Vova** [00:54:26 - 00:54:30]: Здесь, по крайней мере, здесь может быть… Это все есть в очереди разработки.

**Semeyon S** [00:54:30 - 00:54:46]: Мы не можем имплементировать все сразу. Постепенно. У нас длинный список функционала, который еще не был перенесен. Покажи территорию, Доврон.

**Vladyslav Feshchenko** [00:54:46 - 00:54:50]: Это на территории все сделано, то же самое будет на шейпе.

**Davron Usmonov** [00:54:52 - 00:55:09]: Да, сейчас, секунду, я на управление нажал. Кто-нибудь, пожалуйста, уберите. Вот тут, по-моему, нашло порядка 100 территорий. Я где-то 30 удалил, потом у меня руки устали, я не смог до конца удалить. Ну, вот наши bulk actions.

**Vova** [00:55:10 - 00:55:11]: Я тоже штук 5 удалил.

**Dan Khasis** [00:55:14 - 00:55:41]: Я сделал список дефектов на customer locations. У меня было минимум 7 страниц, только на одном экране проблемы. Да, привет.

**Vova** [00:55:47 - 00:55:49]: Мы посмотрим на твой список обязательно.

**Davron Usmonov** [00:55:55 - 00:55:58]: У меня все по дему, если вопросы ко мне есть.

**Semeyon S** [00:56:01 - 00:56:03]: Окей, Доврон, я...

**Dan Khasis** [00:56:03 - 00:56:06]: Мы не можем это запускать, мы не можем это пользоваться.

**Davron Usmonov** [00:56:09 - 00:56:11]: Дайте нам список, мы постараемся...

**Semeyon S** [00:56:11 - 00:56:30]: Я теперь расшарил документ только что. Окей, следующий у нас Евгений.

**Dan Khasis** [00:56:34 - 00:56:57]: Мы делаем все наизнанку, как всегда. Я имею в виду то, что если вы откроете customer locations, научите, как говорят, что дай человеку рыбу, и он будет кушать один день. Научи его, как ловить рыбу, он будет кушать пожизненно. Ловить пожизненно.

**Eugene** [00:57:07 - 00:57:09]: Хорошо, я тогда начинаю.

**Dan Khasis** [00:57:10 - 00:57:28]: Нет, я должен показать вам, что вы повторяете каждый раз, каждую неделю, каждый год те же самые ошибки. Откройте этот...

**Semeyon S** [00:57:34 - 00:57:38]: Доврон, customer location, открой, customer location открыть.

**Dan Khasis** [00:57:38 - 00:58:56]: Да. Я сидел минут пять, я нашел столько проблем, и потом у меня начались другой ряд проблем, я должен был отключиться. Почему? Нет, здесь почти ничего не работает. То, что работает, оно на одну с пятидесятой сделано. Если ты сделаешь zoom in, например, на какой-то кластер, во-первых, этот лоудер внизу непонятно что это, непонятно чего. Окей, мы продолжаем двигаться глубже в кластер. В какой момент... Окей, это уже почти невозможно пользоваться, потому что у тебя четыре гаража, они пятьдесят километров или тридцать километров от друг друга. Кластер по-прежнему включен. Ты должен дойти до такого низкого уровня, что ты теряешь контекст, потому что ты не видишь уже другие склады или другие гаражи.

**Vova** [00:58:57 - 00:59:02]: Это можно в случае, когда один и тот же адрес несколько раз повторяется.

**Dan Khasis** [00:59:06 - 01:00:06]: Перекликаешь, наведешь мышку на... Так zoom level уже дошел, Вова, что даже если это один адрес в том же месте, zoom level дошел до такой степени, что уже надо показывать точки. Плюс здесь почти нет никаких объемов, здесь пять точек, это смешно. Кто делает кластеризацию на пять объектов? Наведи мышку на любую синюю точку на секунду. И что? Кто это? Что это? Здесь наизнанку сделано. Что это значит? Значит, что идет синхронный реквест, и потом рисуется модалка, а модалка не грузится, как прилоутер. Так человек наводит мышку, должен сидеть две секунды и не понимать, что там будет tooltip. Наведи на другую, ты увидишь, вы опять увидите то же самое.

**Vova** [01:00:10 - 01:00:11]: Да, здесь должен был скритон быть.

**Dan Khasis** [01:00:12 - 01:01:17]: Это все в документе, который я писал. Что еще? Facility полностью отсутствует. Все locations, в принципе, пролинкованы к коммуту facility. Все customer locations должны иметь количество заказов. Number of orders отсутствует. Потому что locations... Почему? Потому что люди делают туда много заказов. В отсутствии счетчика заказов или даже ссылки на заказ. Окей, теперь откройте snapshot customer location. Нет, потому что его нет. Откройте редактор customer location. Из tooltip откройте редактор. Окей. И теперь на левом списке, где ты навел мышку на монокарту, где на левом списке этот адрес. Мы ожидаем, что он будет подсвечиваться или нет?

**Vova** [01:01:19 - 01:01:23]: А фокус сразу в поле адреса? Я думаю, не стоит.

**Dan Khasis** [01:01:23 - 01:01:34]: Я не знаю, я спрашиваю. Мы ожидаем, потому что если на левой стороне наводишь мышку на адрес, возьмите этот адрес, поставьте ее в поиск customer locations. По секунду.

**Vova** [01:01:48 - 01:01:56]: Я думаю, что по фокусу на изменение адреса поставить не нужно, потому что адрес customer location ты будешь редко хотеть менять.

**Dan Khasis** [01:01:56 - 01:02:19]: Окей, наведи мышку на адрес. Нет, на адрес. Цвет не меняется на карте. То есть люди невозможно, невозможно пользоваться. У тебя тысяча адресов, ты хочешь найти на списке, где на карте ты хочешь найти, и ты не можешь. А по клику там нет центрирования? Окей, клик есть.

**Vova** [01:02:19 - 01:02:22]: Что есть?

**Dan Khasis** [01:02:22 - 01:02:26]: Цвет не поменялся.

**Vova** [01:02:27 - 01:02:29]: Нет, карта зацентрировалась на customer location.

**Vladyslav Feshchenko** [01:02:29 - 01:02:34]: Да, но по цвету не меняется. Там тон более темный, но за ней ничего не видно практически.

**Davron Usmonov** [01:02:38 - 01:02:45]: У нас цвет меняется на 3 секунды, потом возвращается. При большом количестве маркеров заметно.

**Vova** [01:02:46 - 01:03:00]: Я бы, честно говоря, при таком, при ситуации, когда на viewport попадает меньше 100 customer location, показывал бы их флажками с номерами. Потому что нет смысла терять номера, когда ты смотришь на одну точку. Номер строчек в таблице.

**Serhii Kasainov** [01:03:00 - 01:03:05]: Номера строчек в таблице.

**Dan Khasis** [01:03:07 - 01:04:00]: Или customer alias. Почему нет? Можно красиво отпутать полигон, контрастный, прямоугольник какой-то. Все эти фирмы, которые имеют много locations, у них есть facility ID для data-центра LAX-02, Калифорния, JFK-02, Нью-Йорк. Там EWR — это Нью-Йорк. У всех есть locations, которые привязаны к каким-то географическим alias. И у каждого customer есть свой alias. И они всегда говорят, о, Макдональдс, о, Мини-Мелдс, о, какой-то другой.

**Vova** [01:04:27 - 01:04:36]: Я не уверен насчет текста выводить, потому что может получиться действительно каша большая, потому что кто-нибудь введет очень длинные лейблы, но вряд ли у нас жесткий лимит на короткие названия.

**Dan Khasis** [01:04:37 - 01:05:39]: Я тебе дам пример. Давай я тебе дам пример. Зачем спорить? Зачем спорить? Я тебе покажу прямо сейчас. Потому что это не первый раз, когда я этот спор имею. Представь себе, что вот это точки на карте. А как это отличается от карты? Это все равно x, y координаты. Представь себе, что здесь не было наклеек. Окей, теперь что? Я предлагаю наводить мышку на каждого человека. О, что это? О, что это? О, кто это?

**Vova** [01:05:41 - 01:05:56]: Нет, двумя руками за то, что лейбл нужен. Я же и предложил, что там нужно лейбл выводить на точках, если точек немного. Но я переживаю только за очень длинные лейблы, потому что мы не форсим юзеров использовать короткие лейблы.

**Dan Khasis** [01:05:56 - 01:08:36]: Окей, мы можем сделать enforcement, но опять мы возвращаемся к той же проблеме, как всегда. Я имею в виду то, что где надо, вы не делаете, а где не надо, вы делаете. То есть вы, я имею в виду, как команда. Что есть экран, где есть пропасть, место. Кстати, rathromi.tv по-прежнему сломан уже полтора месяца на мобильном вебе. Какой смысл выпускать мусорный софт, я не понимаю. Шикарно. Вы видите на лету, какие проблемы у меня постоянно есть с нашей системой. Она, наверное, делает столько реквестов, она даже не... Окей, вот, пожалуйста. И это не первый раз, когда мы говорим насчет этого. Сколько места с левой стороны есть? Все равно идет invocation. Или почему нельзя придумать другой label name? Просто business attributes. Но это не business attributes, это полностью неправда даже, что это business attributes. Потому что ни один из этих вещей не physical, не business attributes. Плюс посмотрите на pieces, это сколько в среднем люди заказывают что-то в том адресе. Weight – это средний вес их заказов. Куб – это объем их заказов. Как это вообще связано с бизнесом?

**Vova** [01:08:37 - 01:08:45]: Это дефолты, которые будут использованы при создании ордеров. Но сейчас эта секция не говорит об этом.

**Dan Khasis** [01:08:50 - 01:09:01]: И это даже не связано вообще с ордером? Это не только ордер, это еще адрес-бук тоже, это планирование адрес-бука тоже, не только ордер.

**Vova** [01:09:10 - 01:09:16]: Но в любом случае это дефолты. Неважно, для создания destination или для создания ордера.

**Dan Khasis** [01:09:17 - 01:11:20]: Окей, я понимаю, но кто решил, что эти дефолты надо засунуть? Во-первых, здесь нет секции. Здесь кто-то решил, что по time windows должна быть секция, которая называется time windows и service time и time zone. Здесь есть секция насчет этих вещей и вот этих вещей, но пропустили ее под главы, под список их. Потом, когда ты кликаешь, вся секция становится синяя, но потом field group label становится белым, и он имеет контрастный эффективный, если вы замечаете. Плюс key value pair неправильно названо, потому что это не логично, этот текст нелогичный. Если ты наведешь мышку на кастомер, я кликнул у меня, посмотри, на какого кастомера я кликнул, я не знаю. На кого я кликнул, я полностью без понятия. Сейчас она меняет цвет немножко на синий. Как только я ввел мышку, она потерялась. И она идет на back-end, чтобы получить ответ, перед тем, как менять цвет. Когда я кликаю на что-то, она после загрузки теряет потом эту подсветку. То есть темно-синяя, и теперь она пропала. И как мне это помогает? Я не знаю. На комментарии вставлю.

**Davron Usmonov** [01:11:21 - 01:11:34]: Там мы специально сделали так, что подсвечивается на 3 секунды, и по истечении этого времени убирается это выделение. Мы это обсуждали с Вовой, и эти два цвета специально зарезервированы.

**Dan Khasis** [01:11:36 - 01:12:03]: Окей, но если ты кликаешь опять, ты кликнул, ты выпил кофе из глоток, ты поднял голову, это уже пропало, и потом что? Какое я кликнул из этих? Она даже не показывает tooltip. Если я навожу мышку, и вы не хотите менять цвет, как минимум показывайте этот же самый tooltip или что-то. Даже tooltip не показывает. Смотри, я навел мышку.

**Davron Usmonov** [01:12:05 - 01:12:10]: У нас инфоблок появляется при клике. Мы это обсуждали.

**Dan Khasis** [01:12:11 - 01:12:13]: Это неправильно, тоже неправильно.

**Davron Usmonov** [01:12:13 - 01:12:14]: Мы переделаем.

**Dan Khasis** [01:12:15 - 01:12:18]: Окей, давай кликну на секунду. Теперь я должен кликнуть 50 раз?

**Davron Usmonov** [01:12:20 - 01:12:33]: У нас данных нет изначально, потому что карта присылает только локейшн и его координаты. То есть мы не можем себе позволить сразу все вытягивать.

**Dan Khasis** [01:12:36 - 01:15:15]: Я не знаю, откуда это... Как это, как тебе сказать? Почему это API такой корявый, что он не может вам это дать? Но это другой разговор. Здесь локейшн идет тоже полностью. И все данные, которые здесь должны быть, потеряны. Самых важных вещей здесь нет, самые бесполезные вещи здесь есть. Это все в документе описано. То же самое в этом customers. Если ты пойдешь... мы открываем customers. Где здесь этот... Здесь нет заказов, например. Здесь текст не совпадает. Здесь написано no locations yet. Если вернуться на customers list, мое мнение, Артур, или кто сейчас, или Алексей, кто с QA работает, что если QA люди моментально не видят и не находят эти же самые дефекты, что они нам не нужны в этой фирме. Потому что мы можем нанять любого индуса, который может тыкать, сказать, ой, эта кнопка не работает, ой, эта кнопка ничего не сделала. Если люди не умеют думать насчет качества приложения, они нам не нужны просто так тыкать. Вот я кликнул адрес, конкретный один адрес. Вот теперь я кликаю строку. Она не чекается. Мы ожидаем, Вова, что она будет чекаться. Я кликаю, я кликаю, я кликаю. Она не селектируется. Это ожиданно.

**Vova** [01:15:18 - 01:15:27]: По идее, по дабл-клику она могла бы селектоваться. Но по одному клику, я думаю, что она не должна выбираться. Иначе будут нечаянно выбирать.

**Dan Khasis** [01:15:29 - 01:16:02]: Но по дабл-клику было бы вполне логично. Если ты выбрал кавер, ушел и вернулся, она как-то тоже как-то странно ведет, если записал-то. Вот, видишь? Я на header, submenu, bulk actions. Но чтобы дойти до plan route, мышка сдвинулась поверхность 2-го или 3-го, 1-го или 2-го ряда. И теперь tooltip блочит z-index всего субменю.

**Vova** [01:16:03 - 01:16:04]: Это очевидно баг.

**Dan Khasis** [01:16:05 - 01:16:21]: И он не уходит. Я не хочу сейчас заходить в orders, но там тоже есть свои проблемы большие.

**Vova** [01:16:25 - 01:16:27]: Эту часть мы передизайнили, кстати.

**Dan Khasis** [01:16:28 - 01:16:32]: Это очередной анти-паттерн, правильно? Где ты берешь и...

**Vova** [01:16:32 - 01:16:37]: Да, теперь этого не будет. Это будет развернутый список и опциональные поля просто.

**Dan Khasis** [01:16:37 - 01:21:37]: Список или не список, чтобы научить людей, никогда нельзя в конце списка прибавлять add field, когда у тебя ограничено количество полей. То есть здесь можно за каждую минуту 10 дефектов находить. Теперь нельзя cancel, нельзя ok. Окей, еле вышло через x. Здесь такая же проблема, что в customer locations я не могу линк... Сейчас покажу еще одну вещь. Вот tooltip опять поднимается. У этого customer должен быть default facility. Я, в принципе, его где-то видел. Видишь, customer facilities. Мы эту демонстрацию делали. Теперь этот facility, он есть. Так теперь ты на customer snapshot, а facility не отпутается, хотя он есть. И accountable person есть, но facility нет. Никто не будет пользоваться нашими... Если у них есть warehouse ID, я покажу экземпляр. У них есть алиусы. У каждого из этих центров. Да, Amazon больше многих, но у других такая же вещь. Ты открываешь facilities, например, у тебя есть список и карта. В этом случае у меня один facility, у меня Zoom. Если у меня есть алиус, я как Amazon, я должен видеть сразу алиус, а не цифру. Или обои, как минимум. Потом мы знаем, что у нас есть orders, и у нас есть routes, и все списано с facility. Так, например, если посмотреть на pie chart, как их donut. Сейчас, секунду. Такого типа donut visualization. Если я смотрю на facility, и у меня есть заказы, или у меня есть маршруты, и потом у вас есть все данные, например, здесь. Уже есть. В моем аккаунте ничего нет, как всегда. Но здесь нет... Я не знаю, почему в recently created ничего нет, но окей. Здесь я уже записал раньше, что здесь все неправильно по-прежнему в кадре. Но вот, пожалуйста, вот этот график. Этот график можно отпутать на карте, на facilities. Теперь я знаю, что все маршруты, которые пролинкованы к этому facility, что все эти маршруты, они... Какой у них статус по заказам и так далее. Сейчас я ничего не знаю. У нас есть facilities, и что? А facility snapshot тоже нет. Ты кликаешь на facility, ты не видишь customers, ты не видишь locations, ты не видишь routes, ты не видишь orders. Так у нас нарушенный график. Хотя все pie уже сочтут. Что у нас следующее, Семен?

**Semeyon S** [01:21:40 - 01:21:42]: Кейтни, а Саймон Борн?

**Eugene** [01:22:15 - 01:22:24]: В случае попытки реассайна мы просим confirmation от менеджера, действительно ли он хочет это сделать.

**Vova** [01:22:26 - 01:22:35]: Здесь не хватает последствий напугать юзера последствиями, что произойдет, если он сделает эту опасную операцию.

**Eugene** [01:22:39 - 01:23:08]: Так, а в случае finished мы предлагаем сдуплицировать маршрут. То есть оригинальный маршрут не будет изменен, но мы создаем точно такой же маршрут с теми же destination, с теми же адресами, и с теми же properties. Мы заполняем все поля, в том числе юзерамифику. И да, мы создаем, возможно, такой маршрут с дуплицированием.

**Dan Khasis** [01:23:10 - 01:24:30]: Принцип duplicate неплохо сделан, но там есть те же самые грабли, как всегда. Если, например, вы продолжаете писать start time, но вы в одном месте пишите категорию дату. Дата – это не время. Мы эту тему уже много раз со всеми обсуждали и отспоривали, что вы фирма конкретики. Никто не говорит, какое время ты едешь в Японию, если ты едешь в Японию в октябре. Правильно? Они говорят, когда ты едешь в Японию. И потом ты говоришь, а, мы в октябре. А в какое время дня? В 5 часов вечера. Мы опять делаем кашу. И плюс там, например, слово begin одно висит там на этой строке без причины. У нас же есть scheduled for. Это же наш фирменный стандарт. Он везде описан. И в support, и в spreadsheet, и везде. И в шаблонах. Scheduled for.

**Eugene** [01:24:37 - 01:24:42]: Да, хорошо, принято. Мы просто эти лейбы еще до конца не финализировали. Основной упор был на бизнес-логику.

**Dan Khasis** [01:24:42 - 01:24:53]: Они же должны динамично эмбедиться из шаблонов. Я не понимаю, как они опять руками создаются просто так.

**Semeyon S** [01:25:06 - 01:25:15]: Евгений, мы пофиксим это. Давай дальше. Я хочу показать еще один пункт.

**Dan Khasis** [01:25:15 - 01:27:44]: Думайте как юзер. Вы делаете копию маршрута. Маршрута, извиняюсь. И что? Любой человек может делать копию маршрута в любой системе. Когда ты делаешь копию маршрута, есть какая-то причина. Почему? Ты не смог сделать оригинальный. Ты хочешь копировать оригинальный и как-то его поменять. Ты хочешь копировать оригинальный и поменять его как? Другое место, другое время, например. Но если на то пошло, тогда где модификация facility, которому тот маршрут проринкован? В принципе, он должен быть в секции правый, нижний. Или давай посмотрим на то, что мы меняем дату, мы меняем время, мы меняем водителем, вехал. Но мы знаем конкретно, что есть фирма Гарда, например, которая заказала критический функционал, где они могут модифицировать скорость, с которой машина замедляется после оптимизации. Коэффициент замедления времени путешествия. То есть есть какой-то набор параметров, которые API уже умеет на себя принимать на уровне маршрута, который существенно улучшит облегчение, сделает юзерам нашим пользователям систему. Потому что в их сценариях, где они должны делать дупликет, они делают дупликет, они ждут, пока маршрут создастся. Потом откроется route editor, может быть. Потом в route editor, если он не откроется автоматически, они должны будут пойти на edit. Потом в edit, потом они войдут опять в секцию какую-то. Потом в той секции они будут опять что-то менять. Потом они какие-то update опять, потом они ждут опять перескомита, и потом они только увидят. Мы можем шесть шагов сделать в одном шагу и прибавить какие-то поля, которые route API умеет на себя принимать или подсказки для дупликаций, которые они имеют.

**Vova** [01:27:55 - 01:28:09]: Еще в качестве идей для законченного маршрута может быть такая вещь, что ты хочешь, например, done destinations убрать и оставить только failed destinations, типа доехать этот маршрут.

**Dan Khasis** [01:28:15 - 01:28:25]: Это хорошая идея, но мы не готовы ее делать сейчас. Но это хорошая идея. Copy all, copy visited, copy unvisited и так далее.

**Vova** [01:28:26 - 01:28:27]: Да, опции копирования.

**Dan Khasis** [01:28:34 - 01:29:37]: Окей, но потом есть другой пункт. Этот маршрут имеет какие-то metadata, и когда ты делаешь дупликацию, было бы хорошо увидеть, ты готов покупать билет на путевку в семь стран, в 12 городов на 18 дней, и мы сейчас даже не говорим им никакие в рядовом режиме данные насчет маршрута, хотя эти данные, очевидно, существуют в API. Например, сколько там остановок. Например, точка начала, конечная точка. То есть какие-то критические вещи, чтобы человек не запутался, потому что я уже запутался. Плюс я не знаю, если это старт дейт, который вы сюда поставили, если это оригинальная дата или если система автоматически предложила новую дату. Я должен гадать. Чем больше люди гадают, чем более противно им пользуются системой.

**Eugene** [01:29:37 - 01:29:41]: Ты же перетаскиванием ее выбрал. Ты drag-and-drop в календаре выбрал эту дату.

**Dan Khasis** [01:29:42 - 01:32:28]: Ну какая оригинальная дата тогда? Я запутался. Я не знаю, если я двигаю или дуплицирую, я не знаю исходный объект, какие данные насчет исходного объекта. Да, я покажу на своем экране, как Scope пытался это сделать, когда мы делаем membership duplication tool. Я когда кликаю resolve в какую-то вещь или deduplicate или merge, она говорит, вот этот объект идет сюда или этот объект идет сюда, и стрелка меняет, например. Есть метаданные насчет первого и насчет второго, плюс есть какие-то предварительные превью, что будет после этого мерджа или после этого дуплицирования. Мы должны выбрать 7-10 полей, которые самые важные, например, оригинальные водители, оригинальная машина, оригинальная schedule for информация, какие-то другие facility, 5-6 других полей, чтобы люди не запутались. Потому что сейчас люди запутаются 100%. У нас есть, например, разные тулзы для разных типов тесок очистки данных, и каждый имеет свой визард. В зависимости от визарда, он может быть очень простой, он может быть сложнее. В этом случае здесь fullscreen, потому что сложный визард, multi-шаг. Почему duplicate не может так быть? Почему мы не можем делать множество маршрутов duplicate? Ты взял 10 маршрутов, столько-то остановок, столько-то миль, какой-то водитель, создан на какое-то время, ты хочешь делать новое. Окей, вот новое. Ты редактируешь, что ты хочешь, на target, и ты кликаешь duplicate. Потом идет превью. Ты выбрал эти, ты target выбрал этот. Это финальный превью, dry run. Готов ли ты? Да, я готов. Apply.

**Semeyon S** [01:32:53 - 01:32:53]: Идем дальше.

**Eugene** [01:32:56 - 01:33:11]: Дальше у меня на самом деле почти все. Еще что было сделано, это была сделана возможность копирования и дублицирования любого маршрута по нажатию control. Маршрут в любом статусе можно тоже дублицировать.

**Semeyon S** [01:33:20 - 01:34:18]: Кстати, по assignment есть вопросы, в частности с facilities. У нас получается, что на facilities нужно выводить в другом виде информацию, потому что у нас на одном facilities может быть много маршрутов. То есть это может быть количество маршрутов отображается вместо одной плашки. Сейчас секундочку. Рисовать буду. Вот. Но вот прям тот же самый вид, как на users и на vehicles, он здесь плохо подходит. Даже у небольшой компании с этим будут проблемы. В одной facilities здесь может быть 10 маршрутов, и это все разопрет.

**Vova** [01:34:18 - 01:34:51]: Да, этот UI не подходит для facilities. И вообще немножко странная идея изначально делать assignment facility. Потому что facility на самом деле, маршрут создается внутри facility. Facility для маршрута это depot чаще всего. И маршрут из одного facility в другой перекидывать мало кто захочет.

**Dan Khasis** [01:34:51 - 01:38:02]: Это неверно, мы это покрывали уже несколько раз. Вы должны понять с моей точки зрения, что я это говорю уже 100 раз, а некоторые из вас это забывают или первый раз слышат. Вот почему я постоянно звучу как будто бы раздраженным, потому что мы говорили об этом. Я конкретно помню, что мы в каком-то коллективе говорили об этом. И почему это так происходит. Если тебе привезли холодильник, и ты заказал какую-то кастомную марку зеленого цвета с золотыми подставками 33.7 сантиметра в ширину, и тебе его устроили 6 месяцев, тогда этот холодильник, ты не можешь сдвинуть с одного facility в другой, чтобы приехать к тебе в тот же день. Если он уже загружается в какой-то грузовик. Но если ты посылаешь сантехника, или электрика, или маляра, или доктора делать рентген, тебе неважно, потому что каждый facility имеет ту же самую туалетную бумагу, тот же самый список inventory services и так далее. И он спокойно может dispatch из любого другого места. Особенно если в одном facility затопило, а в другом не затопило. Много снега в одном, нету снега в другом. Так они возьмут и пришлют, чтобы не потерять клиента, чтобы не раздражать клиента. Эта фирма, которой мы делаем сейчас эту сделку, которую мы пытаемся добить, это вендинг-машин компания. У них есть эти вендинг-машины в столовых, в аэропортах, в офисах и так далее. И что нужно там сделать? Там нужно принести Coca-Cola и чипсы, и Doritos и так далее. Pepsi, Snickers. И что это значит? Это значит, что в каждом месте есть эти вещи. Если есть три гаража, три facility в Нью-Йорке, они могут из любого из этих трех в тот день привезти это. Если придет заказ. Мы в принципе динамички должны даже решать, из какого facility это привозить. Нагрузка низкая в одном. Надо, может быть, балансировать, как к нему больше раутов, больше заказов. Или там будет асимметричность с употреблением товаров, и тогда не будет балансировки, как weighted round-robin load balancing.

**Vova** [01:38:03 - 01:38:14]: Но это все как будто бы в этапе планирования маршрутов. Эта сроку имеет смысл делать, а не потом. Потому что у уже спланированного маршрута у него есть географическая составляющая вполне конкретная.

**Dan Khasis** [01:38:14 - 01:39:29]: Если ты берешь подменяющий модификатор, то получается географическая составляющая. Ордер динамички приходит. Она должна раутать их на правильной facility. Но смотря на это, и на vehicle, и на user, facility ситуация здесь, почему она должна была быть, это потому что, если ты на user, ты должен иметь право сделать group by facility. И здесь будет facility как группировка, и ты видишь всех юзеров. Ты сделаешь vehicles, и ты опять хочешь видеть по facility. И вот эта разница между нами, и RoadNet, и Descartes, почему мы постоянно теряем бизнес. Потому что они понимают, что у большого бизнеса есть 50 или 100 гаражей. И что они в любую секунду хотят понимать. У меня прямо сейчас 50 активных водителей, 40 в этом, 20 в этом. Это мой текущий utilization. 70% assigned на сегодняшний день. Из бассейна assignable users. У меня столько-то users имеют на них assigned работу. И когда мы смотрим на этот интерфейс, мы не видим никакой этой информации, хотя в API она все есть.

**Vova** [01:39:30 - 01:39:39]: Нет, у нас еще нет capacity водителя. Мы не знаем. У нас сейчас нет расписания рабочего для водителей. Мы не знаем, когда у них выходной, когда они активно…

**Dan Khasis** [01:39:39 - 01:39:45]: В твоей фантазии ты хочешь расписание. В твоей фантазии. Но я не говорю, что вам нужно расписание.

**Vova** [01:39:50 - 01:39:54]: Как мы узнаем, а вы либерите его загрузку, не имея расписания?

**Dan Khasis** [01:39:58 - 01:41:00]: Ты сейчас смешиваешь разные темы. UI, бизнес-логику, API и бизнес-решение. Мы не говорим сейчас о всех этих вещах. Мы говорим о том, что у меня 10 складов. Я не знаю, сколько прямо сейчас, в каком складу, сколько маршрутов, сколько машин. Как это ответить, никто не знает. Даже если мы не будем этот знаменатель считать, мы числитель даже здесь не выводим. Где здесь счетчик 5, например, что facility номер 1, я кликаю, facility номер 2, я кликаю, facility номер 3, я кликаю. В route списке же есть группировка по facility. Так здесь будет тоже группировка с углублением. С отступом, я имею в виду. Как дерево.

**Vova** [01:41:03 - 01:41:07]: У нас нет группировки по facility. У нас на продакшене, например.

**Igor Skrynkovskyy** [01:41:11 - 01:41:18]: Что с этим происходит?

**Dan Khasis** [01:41:18 - 01:41:26]: Кто-то знает, когда это включится там?

**Igor Skrynkovskyy** [01:41:30 - 01:41:32]: Группировку по facility мы добавляли на route list.

**Vova** [01:41:34 - 01:41:36]: Дима еще не доехал до проды.

**Igor Skrynkovskyy** [01:41:36 - 01:41:39]: Скорее всего она не включена, но она есть.

**Dan Khasis** [01:41:45 - 01:41:59]: У меня ее нету, но я верю Игорю. А почему мы ее не включили? Мы же даем facility всем, или как минимум?

**Igor Skrynkovskyy** [01:42:00 - 01:42:06]: Насколько я помню, мы ее не включали в facility для всех.

**Artur Moskalenko** [01:42:13 - 01:42:20]: Да, facility публично не раздавали. Есть модуль отдельный marketplace, но он не включен всем.

**Dan Khasis** [01:42:22 - 01:44:13]: Ок, мы отдельно обсудим это. Вернемся к этому вопросу. Чтобы ответить на следующий вопрос, Вовин, как мы знаем, мы можем начинать с информации, которая у нас есть. У вас есть в route list прямо сейчас, что столько-то маршрутов assigned, столько маршрутов не assigned. То есть даже если у тебя есть воронок, самый верх этого воронка – это водители. Потом идут водители с расписаниями, например. Потом идут созданные маршруты с расписанием schedule. Потом идут assigned маршруты. У вас есть это, это и это. Чтобы сделать первую версию, все, что вам нужно сделать, это из всех маршрутов, которые созданы, которые scheduled for этот день для этого facility, какое количество из них assigned, какое количество из них started. Никто не будет делать, как сказать, после оптимизации маршрутов. Наша самая болезненная точка – это что мы не делаем after assignment. Вот ты сделал 75 маршрутов. Оптимизацию сделал, у тебя появилось 75 маршрутов. Кто будет кликать 75 раз и решать 75 раз, какой водитель должен делать тот маршрут или какая машина? Кто это будет делать? Если бы я это делал, я бы чокнулся на первый день работы. Неужели мы не можем сделать, как я написал в том документе 9 месяцев или больше назад, какой-то суперэлементарный assignment механизм?

**Vova** [01:44:18 - 01:44:29]: Я чуть позже покажу тебе макеты assignment board, after assignment для after assignment, то, что мы нарисовали.

**Dan Khasis** [01:44:34 - 01:44:36]: Нам нужен суперэлементарный, суперэлементарный.

**Vova** [01:44:48 - 01:45:10]: Суперэлементарный может создавать конфликты. Если ты будешь assignment, например, на 7 дней, на 5 водителей, на 7 дней какой-то набор маршрутов, надо, чтобы убедиться, что не происходит конфликтов. Никогда не назначаем два маршрута одному водителю одновременно. Если мы сделаем limitation один день один водитель, тогда это будет довольно просто.

**Dan Khasis** [01:45:10 - 01:48:13]: А что ты имеешь в виду, если ты наизнанку идешь, ты предлагаешь свое видение, твое мнение, которое может быть на одном экстремальной секции, как бы этой spectrum. Что мы хотим? В первой версии это один день и один склад, или один день и какой-то subset. У тебя есть Нью-Йорк, у тебя есть 50 водителей, у тебя есть 50 маршрутов, ты кликаешь кнопку, она randomly просто assign 50 водителей на 50 маршрутов. Это было в документе написано. Там 5 эволюций было написано, я не могу повторять то же самое бесконечно. Я помню тот документ. Что? Я помню тот документ. Там каждый шаг был расписан. Потом там было пересечение с киллами, потом там было, у тебя маршрут только 4 часа, а ты можешь работать 8. Ок, мы тебе дадим 2 маршрута, или N количество маршрутов. То есть мы же говорим о просто rand function, или mod function, или rand с какими-то этими лимитами, правильно? Потом уже, если мы хотим делать супер секс и супер compliant, это другой product line. Они делают новый module, новый лисенс, новый тариф, и там уже получается другая вещь. Там получается, у меня есть 100 водителей, у меня есть 7 дней в будущем, никакой водитель не имеет права за рулем сидеть больше, чем 12 часов в день, и на 3, или 4, или N день они обязаны сделать 1 день перерыв после 40 часов постоянно сидеть за рулем. Это законы федеральные для длинных путевок, например. Тогда scheduler возьмет и спрашивает, а, да, вот этот человек started это, рад закончить это, telematic сказал это. Это называется DVIR или HOS, hours of service compliance. И мы не позволяем этому человеку так долго сидеть за рулем. Мы говорим, начинаются приходить эти, как это, красные алерты. Эти юзеры не смогли быть assigned из-за этих причин, или эти юзеры были assigned из-за этих причин, или у тебя не хватает столько юзеров.

**Vova** [01:48:20 - 01:49:36]: Давайте я очень быстро покажу, пока мы об этом говорим, как я себе это представлял. Там на assignment board появляется кнопка auto-assign, и когда ты ее нажимаешь, у тебя, соответственно, на текущий период с текущими фильтрами происходит попытка авто-ассаймента, и ты сразу видишь результат авто-ассаймента. В каких-то ситуациях, может быть, получится так, что где-то что-то не получилось за-assign, тебе система пишет, сколько получилось, и ты этот результат можешь принять или не принять. Если тебе не нравится результат, ты можешь пойти в настройки авто-ассаймента и ослабить правила авто-ассаймента, например, разрешив отвязать машины от водителей, разрешив людям ездить на чужой машине, например, разрешив не догружать полностью машину, назначить большую машину на маленький маршрут и какие-то другие, снимать ограничения, таким образом сделать логарифм авто-ассаймента более гибким.

**Dan Khasis** [01:49:46 - 01:52:39]: Для примитивного подхода, может быть, это подойдет, но я думаю, что это будет на network-инфраструктуре, что у тебя будет load balancer, у него есть load balancing profile или template, ты настраиваешь этот template или стратегию или авто-ассаймент strategy или авто-ассаймент template, и система берет, и после оптимизации ты выходишь на optimization snapshot, и тебе предлагают, что у тебя удачно все, оптимизация произошла, хочешь ли ты включить авто-ассаймент, и да, хочу, окей, выбери стратегию, и ты выбираешь из библиотеки 2-3 идеи, которые, например, Вова написал здесь, но это неправильно сделано, это должна быть структурированная сущность, которая выглядит и звучит как полноценный профайл со своим API, который имеет какие-то правила, и потом мы можем динамически наращивать эти правила. Вначале мы 10 правил сделаем, потом они могут редактировать свои, потом они, может быть, начнут, хотят сами редактировать, но идея в том, что мы не можем решать для юзеров правильный подход, даже во время оптимизации, где у них есть optimization профайл, где они делают тот wizard, во время визарда нам надо прибавить еще один шаг, то есть настройку, где они будут выбирать after assignment профайл, и потом after assignment профайл, после оптимизации она просто передаст, что вот такой-то optimization идея удачно закончился, в нем было создано энное количество маршрутов, и мы теперь хотим переслать все эти маршруты, которые готовы и сделаны, мы хотим их все послать на after assignment, и потом есть лог, внутри оптимизации новая вкладка, и в той вкладке есть after assignment лог, также как у нас есть google load balancer logs, такой-то маршрут был assigned к такому-то человеку, и почему?

**Vova** [01:52:42 - 01:52:59]: Смотри, здесь еще важный момент, что это источница, то есть ты запустил after assignment, и перед тем, как его применить, он не сразу сам применяется, ты должен преревьюдить результат и подтвердить, что ты согласен с ним, и только после этого происходит сам assignment.

**Dan Khasis** [01:52:59 - 01:53:28]: Да, я говорю, что я не согласен с этим, это один режим меню, но если ты каждое утро, сделай сценарий на секунду, ты каждое утро приходишь, и ты планируешь 100 маршрутов как диспетчер, давай представим, как мы умудрились эти 100 маршрутов действительно спланировать удачно на секунду.

**Vova** [01:53:29 - 01:53:53]: Но если бы я оставлен в этой ситуации, я бы ожидал такую workflow себе, что я выбираю список доступных мне сегодня водителей, я выбираю список доступных мне сегодня машин, я выбираю pool destination, или ордеров, которые нужно сегодня выполнять, и дальше я хочу, чтобы мне система автоматически все засайнила и распланировала одним махом.

**Dan Khasis** [01:53:57 - 01:54:04]: Я почти согласен с этим, но я не согласен с тем, что я хочу всегда выбирать.

**Vova** [01:54:04 - 01:54:16]: Нет, я не хочу выбирать, я хочу, чтобы система могла выбрать мне всех доступных сегодня, кто сегодня вышел на работу, кто сегодня должен был выйти на работу, может быть я там делаю какое-то исключение.

**Dan Khasis** [01:54:19 - 01:54:42]: Вова, ты наизнанку на это смотришь, с моей точки зрения. У тебя есть 100 рабочих, никто не будет говорить, я хочу выключить 100 рабочих перед тем, сделай мне assignment всех 100, потом я руками выключу 2 или 3, которые не пришли, или сделаю reassignment.

**Vova** [01:54:51 - 01:55:19]: Я тоже воспринимаю это таким образом, что reassignment – это какая-то точечная операция, когда ты один-двух человек должен reassign, потому что кто-то там заболел. А вообще система должна сразу планировать ассайментные маршруты в идеале. Под мою команду, под мой автопак.

**Dan Khasis** [01:55:21 - 01:56:16]: Я спланировал 100 маршрутов, я не хочу мучиться и руками кликать 100 раз. Опять, не забудь другой пункт. Кто знает, кто пришел на работу или нет? Как этим людям платят? Этим людям платят через payroll-систему, или через систему как Bamboo, или через систему как Zoho HR. У огромных фирм есть dedicated система для HR. У маленьких фирм такой системы нет. А если есть, то она примитивная. Но там, например, у Geotab есть машина. Если машина включена или активна в тот день или на тот день, значит, мы можем ее assign, и так далее.

**Semeyon S** [01:56:22 - 01:57:26]: Давайте вернемся к assignment facilities. Я хочу уточнить такой момент. У нас сейчас вкладка facilities вот здесь в read-only режиме. И очень много маршрутов не заassign'ены конкретно в этом аккаунте. Почему так происходит? Потому что маршруты, когда создаются, они получают атрибуцию facility, например, из юзера или из других источников. Но если мы на этом маршруте поменяем водителя из другого facilities, у этого маршрута останется старая атрибуция и никуда не денется. Даже если это маршрут запланированный и по нему еще никто не поехал. Соответственно, вот этот экран вообще смысла не имеет.

**Dan Khasis** [01:57:27 - 01:57:57]: Это аппетит эффекта. Я не совсем с собой согласен. Я тебе скажу почему. Потому что log транзакции, который привязывает event facility или к другому entity type, берет facility на момент того ивента, а не на момент оригинальной планировки. Если Игорь сделал с командой, как мы задумали.

**Igor Skrynkovskyy** [01:58:00 - 01:58:17]: Дэн, я хочу поправить тебя. Когда мы с тобой говорили, мы говорили не о планировке или assignment'е или чем-то другом, а насчет создания маршрута, то есть на время планирования. И оно сейчас так работает.

**Dan Khasis** [01:58:28 - 01:59:21]: Ты создал маршрут, который пролинкован к facility, например, или к бизнес юниту. Ты же делал динамически, правильно? Там есть бизнес юнит, и facility, line of business и так далее. На момент какой-то транзакции, например, записки визита, геофенса и так далее, у нас получается запись в систему, что на тот момент маршрут имел какой-то facility или какие-то линковые атрибуты, и потом в ту систему, которая обогащает какую-то конкретную транзакцию, типа сайдит той транзакции, берет с того маршрута на тот момент транзакции, какой у него был прописан facility и бизнес юнит, и так далее, правильно? Да. Все, что мы должны сделать, это дать им сделать, расширить функционал, путь или апдейт, правильно? Петч или путь на рампу менять в facility.

**Igor Skrynkovskyy** [01:59:22 - 01:59:28]: Да, именно так. Но просто сейчас это не заложено, но именно то, что ты сказал, это нужно добавить.

**Dan Khasis** [01:59:29 - 02:00:18]: Окей, мы спокойно добавим. Это не супер-эмерженси. Больше эмерженси, то, что мне ноет Паркер 2 дня подряд уже насчет какой-то фигни с Polyline, и я не понимаю, как она вообще связана с Prefab, и что мы якобы должны какую-то хуйню апдейтить, и что данные якобы старые. И для меня это огромная шутка и загадка, потому что actual path не обязан пользоваться snap to Polyline. Actual path надо иметь право выводить, как он актуально был, без никаких route Polyline map matching. Кто это выключил и почему?

**Igor Skrynkovskyy** [02:00:21 - 02:00:35]: Я думаю, что это Паркер немного о другом говорит. Там есть проблема с апдейтом карты Prefab, и он, наверное, об этом говорит, а не о привязке к map matching.

**Dan Khasis** [02:00:35 - 02:02:00]: 100% он говорит насчет привязки к map matching. Понимает, что это говорит. Он не понимает, но это же он говорит. Я дам пример, одну секунду. Сейчас, секунду. Я пытаюсь открыть месседж от него, одну секунду.

**Artur Moskalenko** [02:02:52 - 02:03:26]: Так это речь о compliance. У нас уже накопилось штуки 4 тикета от support, top priority по compliance. И все об одной и той же проблеме, что не совпадает планируемый маршрут с actual. И насколько я знаю, там Хуан, он сейчас алгоритм переделывает. Он никогда его не переделывает.

**Igor Skrynkovskyy** [02:03:27 - 02:03:55]: С Андреем. Там проблема в том, что Prefab точка попадает на intersection, вот здесь, на этот перекресток. И Prefab, так как мы используем Prefab для стичинга вот этих данных на карте, он рисует какой-то обходной путь. И потому вот такой путь там получается. Вы смотрите, это идеальный экземпляр американских пословиц «missing the forest for the trees».

**Dan Khasis** [02:04:00 - 02:06:20]: Вы верите? Это как, например, пациент приходит к доктору. Пациент говорит, что у меня проблема одна. Потом выясняется, что эта проблема вообще никак не связана, но действительно у него есть проблема. У него там проблема с веной, или там проблема с печенью, или с почками. А он жаловался насчет там, я не знаю, что у него гной идет из попка, или что-то такое. Чувак прямо здесь нарисовал. Шесть стрелок, пять стрелок. This was the actual travelled path. Вы смотрите на алгоритмы, хуй знает что. Где от GPS координатов actual route path, который этот чувак сделал в своей машине. Потому что если бы там были эти точки на экране, может быть парк ее не знает, потому что он нихуя не знает тренинг, ему не сделали правильное, что он может включить map layer. Может быть без разрешения в редакторе потеряли критический map layer насчет конкретных точек показывать. Конкретные точки. Где эти точки, которые мы скачали с прибора, которые у нас 10 или 12 лет были в системе. Эти точки просто пропали куда-то. И давай посмотрим. Я открыл route snapshot. Открыл route snapshot. Здесь нет никаких лейров вообще. Нет трекинга, ничего нет. Лейры пропали. Я обязан идти в edit, чтобы видеть в рядовом режиме лейры. Окей, я пошел в edit. Теперь я в edit. Я кликаю tracking. Она не включается почему-то. И она не просто не включается, она еще как бы в лупе гоняет. Блинкинг какой-то дефект, я не знаю какой. Сейчас посмотрим.

**Igor Skrynkovskyy** [02:06:33 - 02:06:36]: Не, оно должно дать эти блинки включить.

**Dan Khasis** [02:06:37 - 02:06:48]: Она как будто бы в лупе гоняет. Курсор пропадает, чертова мать. Видишь как он мигает? Да, я не знаю почему он мигает.

**Semeyon S** [02:06:51 - 02:06:58]: Это запланированный маршрут, и собственно этой информации нет.

**Artur Moskalenko** [02:06:58 - 02:07:12]: Дэн, ты показывал скриншот сейчас, и я зашел на этот маршрут, на этот аккаунт, и там эти breadcrumbs, это все есть. Я могу в принципе тоже экран пошарить.

**Dan Khasis** [02:07:14 - 02:07:38]: Да, но мы возвращаемся к тому, что чувак, они нам должны платить там десятки тысяч долларов в год. Они говорят, что у нас нету этих данных. Они говорят, что наша система говно. Но из-за того, что он не включил... Они говорят, что водитель проехал по зеленой линии. Но где это? Я не вижу этого.

**Igor Skrynkovskyy** [02:07:40 - 02:07:42]: Не, зеленая это запланированная.

**Dan Khasis** [02:07:43 - 02:08:03]: Так выключи compliance на секунду. Но они говорят, что он поехал по зеленой линии. Вот что они говорят. Якобы. Якобы. Я не верю этим водителям.

**Oleksandr Ishchenko** [02:08:05 - 02:08:09]: У них может быть причина говорить не то? Внутренно ксв какая-то?

**Dan Khasis** [02:08:11 - 02:08:37]: У нас же мобильное приложение, локальное, в реал-тайме считает полилинию. Если мобильное приложение у себя до миллисекунды считает эту линию, почему она не может нам прислать полилинию, например, с мобильного приложения?

**Igor Skrynkovskyy** [02:08:42 - 02:08:47]: Да, все что угодно. Мы можем и линию от них доставать. Просто это надо добавить.

**Dan Khasis** [02:08:48 - 02:08:51]: Но я не верю, что водитель проехал это.

**Igor Skrynkovskyy** [02:08:53 - 02:09:57]: Смотри, Дэн, вот этот конкретный случай, это надо расследовать. Почему происходит именно так? И как ты говоришь, на брейн-крумпах и смотреть на данных, которые отдает сервис. Но в алгоритме есть действительно проблема, которая отображается на других кейсах, о которых Артур упоминал. Вот это, скорее всего, что это тоже такой же самый кейс. Почему? Потому что смотри, вот здесь точка и здесь точка. То есть здесь мы бы должны были сказать, что вот это есть путь, то есть драйвер никуда не поворачивал. А у нас получилось как? Почему? Потому что точка стала на перекрестке, и Prefix сказал, значит, у тебя, наверное, другой путь. И он сделал вот такой путь. Из-за этого алгоритм сказал, что дорога была другая. Он часть, видишь, красным задетектировал, часть задетектировал этим синим.

**Dan Khasis** [02:09:58 - 02:10:38]: Окей, но они сказали, что они поменяли на 30 секунд этого водителя. Кликни на... То же самое.

**Igor Skrynkovskyy** [02:10:40 - 02:10:43]: Потому что это, наверное, драйвер. Артур под драйвером зашел.

**Dan Khasis** [02:10:43 - 02:10:55]: Я понимаю, но они этому драйверу поменяли на 30 секунд. Якобы. Есть другие какие-то свежие маршруты? Не на этом драйвере, а в принципе?

**Artur Moskalenko** [02:10:58 - 02:11:00]: Тогда я скину просто...

**Dan Khasis** [02:11:05 - 02:11:14]: Выключи Dispatch Mode. Этот говняный Dispatch Mode. Где Created All? Как увидеть все маршруты? Я не понимаю.

**Artur Moskalenko** [02:11:14 - 02:11:16]: Нет, это все, что у них есть.

**Igor Skrynkovskyy** [02:11:18 - 02:11:18]: Артур, а подкинуться?

**Artur Moskalenko** [02:11:19 - 02:11:23]: Да я смотрю.

**Alexey Gusentsov** [02:11:23 - 02:11:27]: Артур, там Create Date Default.

**Dan Khasis** [02:11:30 - 02:11:43]: Плюс, Игорь, я хочу еще другой пункт сказать, что мобильные ребята, они же не обязаны каждые n секунд присылать нам данные. Они могут пачками пересылать координаты, если они хотят.

**Igor Skrynkovskyy** [02:11:43 - 02:11:52]: Мы это уже сделали. Мы это сделали, но это надо интегрировать. Мы сделали пачку до 1000 точек в одной пачке.

**Artur Moskalenko** [02:11:55 - 02:12:00]: Это все их маршруты.

**Vova** [02:12:00 - 02:12:10]: Я с Овнера. Я помню, что я еще предлагал собирать больше точек при смене направления машины, когда она замедляется.

**Igor Skrynkovskyy** [02:12:11 - 02:12:20]: Это тоже уже обсуждали с ребятами, но у них нет времени на интеграцию. Они заколдят дизайн, ордера, и тогда они это сделают.

**Artur Moskalenko** [02:12:28 - 02:12:32]: Суть в том, что у нас 4 комплейнта есть по комплайнсу.

**Dan Khasis** [02:12:33 - 02:12:37]: И что, нам даже не платят за комплайнс? Пусть они комплейнут сколько они хотят.

**Artur Moskalenko** [02:12:39 - 02:12:42]: То, что это Мэтьюс, например.

**Oleksandr Ishchenko** [02:12:42 - 02:12:46]: Это не Мэтьюс.

**Artur Moskalenko** [02:12:47 - 02:12:50]: Это Гарда и другие.

**Oleksandr Ishchenko** [02:12:50 - 02:12:54]: Франциско этот.

**Artur Moskalenko** [02:12:54 - 02:12:58]: И Мэтьюс тоже есть относительно свежий.

**Igor Skrynkovskyy** [02:13:01 - 02:13:25]: Артур, надо немножко подождать. Ребята, мы позавчера говорили с ребятами, с Андреем и с Пуаном. Они работают над алгоритмом. Они нашли путь, как уменьшить количество этих Pre-Five запросов плохих, которые вычитывают дополнительные дороги. Сегодня будет звонок через час. Нет, он сейчас идет. Будет обдать.

---

## Статистика

### Участники

- **Dan Khasis**: 261 сегментов, 00:52:34 (40.3%), точность 92.6%
- **Semeyon S**: 143 сегментов, 00:12:56 (9.9%), точность 94.4%
- **Vova**: 141 сегментов, 00:13:58 (10.7%), точность 95.0%
- **Vladimir Fedorov**: 88 сегментов, 00:09:24 (7.2%), точность 92.7%
- **Igor Skrynkovskyy**: 54 сегментов, 00:06:06 (4.7%), точность 92.3%
- **Alexey Gusentsov**: 51 сегментов, 00:05:05 (3.9%), точность 94.4%
- **Davron Usmonov**: 31 сегментов, 00:05:11 (4.0%), точность 94.7%
- **Oleksandr Ishchenko**: 26 сегментов, 00:02:25 (1.9%), точность 94.0%
- **Artur Moskalenko**: 23 сегментов, 00:01:49 (1.4%), точность 93.2%
- **Gurgen**: 15 сегментов, 00:01:12 (0.9%), точность 91.1%
- **Serhii Kasainov**: 11 сегментов, 00:00:42 (0.5%), точность 94.5%
- **Vladyslav Feshchenko**: 10 сегментов, 00:00:28 (0.4%), точность 95.0%
- **Eugene**: 7 сегментов, 00:01:04 (0.8%), точность 95.9%
- **Oleg Pravyk**: 5 сегментов, 00:00:33 (0.4%), точность 90.6%
- **Dmitry Smaliak**: 1 сегментов, 00:00:17 (0.2%), точность 5.7%

### Качество выравнивания

- Высокая уверенность (time-based): 850 (98.0%)
- Разрешено через LLM: 9 (1.0%)
- Fallback: 8 (0.9%)
- Средняя уверенность: 93.5%
- [!] Низкая уверенность (<70%): 29 сегментов (3.3%)