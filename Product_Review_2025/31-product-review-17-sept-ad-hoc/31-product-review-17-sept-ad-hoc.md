### [https://drive.google.com/drive/folders/1g7b_H1NQQnan3gNjXItiJjRSS0vGQUkr](https://drive.google.com/drive/folders/1g7b_H1NQQnan3gNjXItiJjRSS0vGQUkr)
### Отчет о стратегическом совещании по продукту
Дата: 17 сентября 2025 г.Участники: Дэн (CEO), Игорь Скринковский, Сергей, Семён, Вова, Алексей.Цель: Обсуждение статуса и логики критически важного функционала для предстоящих демонстраций и закрытия сделок, включая перенос аккаунтов, диспетчеризацию, управление статусами водителей и расширение модели данных.
### 1. Тема: Миграция аккаунтов "Bloomnet" и обработка мобильных подписок
- Ответственный: Н/Д
- Время обсуждения: 00:01 – 06:17
- Контекст / Цель: Обсуждение технической и коммуникационной стратегии для переноса пользователей клиента Bluemnet, у которых есть активные мобильные подписки, чтобы избежать ошибок и негативного пользовательского опыта.
- Ключевые моменты обсуждения и предложения команды:
  - Текущая логика не позволяет переносить пользователя с активной мобильной подпиской и выдает ошибку.
  - Команда предложила либо дать пользователям возможность переносить аккаунты, но предупредить, что они должны сами отменить старую подписку, либо найти способ отменять ее автоматически.
- Ключевые тезисы, директивы и мнения Дэна:
  - Просто показывать ошибку — плохой подход.
  - Наилучший вариант — реализовать автоматическое уведомление. После того как аккаунт пользователя успешно перенесен, система должна отправить ему email с четкой инструкцией: "Ваш аккаунт был перенесен. Пожалуйста, отмените вашу старую подписку в Google/Apple, чтобы избежать двойной оплаты".
- Решения и дальнейшие шаги:
  - Команда: Реализовать механизм отправки email-уведомления пользователю после успешного переноса его аккаунта, если у него была активная мобильная подписка.
  - В письме должна содержаться инструкция по отмене старой подписки.
- Итоговое резюме по теме:Принято решение о реализации проактивного подхода к миграции пользователей с мобильными подписками. Вместо блокировки процесса или ручных действий, система будет автоматически отправлять пользователю email-уведомление с инструкциями после успешного переноса, что минимизирует риски и улучшает клиентский опыт.
### 2. Тема: Логика Drag-and-Drop и изменение статуса заказа
- Ответственный: Сергей
- Время обсуждения: 10:41 – 11:21
- Контекст / Цель: Уточнение ключевого аспекта логики работы нового функционала по перетаскиванию (drag-and-drop) заказов и локаций на таймлайн маршрута.
- Ключевые моменты обсуждения и предложения команды:
  - Сергей и Вова подтвердили, что в текущей реализации, после перетаскивания заказа из списка "непривязанных" в маршрут, он остается в исходном списке без изменений.
- Ключевые тезисы, директивы и мнения Дэна:
  - Дэн задал принципиальный вопрос: "Делаете ли вы pop из массива или массив остается неизменным?". Он подчеркнул, что это не "хитрый", а "элементарный" вопрос логики.
  - Текущее поведение абсолютно неверно. Как только заказ или локация перетаскивается в маршрут, их статус должен немедленно меняться на "запланирован" (planned или аналогичный).
  - После изменения статуса, этот элемент должен либо исчезать из списка нераспределенных, либо визуально четко отличаться (например, становиться серым), чтобы диспетчер не мог случайно назначить его повторно.
- Решения и дальнейшие шаги:
  - Сергей/Бэкенд команда: Немедленно реализовать изменение статуса заказа/локации после их успешного добавления в маршрут через drag-and-drop.
  - Фронтенд команда: Обеспечить визуальное обновление списка нераспределенных заказов/локаций после изменения статуса элемента.
- Итоговое резюме по теме:Выявлен критический логический недостаток в работе новой функции диспетчеризации. Принято решение о немедленной доработке: после назначения заказа на маршрут его статус должен автоматически изменяться, что является базовым требованием для предотвращения ошибок планирования.
### 3. Тема: Улучшение UI для добавления остановки в маршрут (Insert Stop)
- Ответственный: Семён, Сергей
- Время обсуждения: 14:07 – 19:20
- Контекст / Цель: Обсуждение недостатков текущего интерфейса для добавления новой остановки в маршрут, который не подходит для клиентов с большим количеством локаций.
- Ключевые моменты обсуждения и предложения команды:
  - Семён отметил, что текущий UI — это просто поле для ввода адреса с автодополнением, что крайне неудобно.
  - Было предложено переделать модальное окно, чтобы дать пользователю возможность выбирать из списка существующих Customer Locations или Orders, а не только вводить адрес вручную.
- Ключевые тезисы, директивы и мнения Дэна:
  - Дэн подтвердил, что текущая реализация "очень хуёво", так как диспетчер, работающий с 11,500 локациями, физически не может помнить их адреса.
  - Правильная логика: Модальное окно по умолчанию должно предлагать поиск и выбор из существующих сущностей (Customer Locations, Orders). Возможность ввести адрес вручную должна быть вторичной опцией, а не основной.
  - Техническое требование к API: Бэкенд (API Игоря) должен уметь принимать для вставки не полный объект адреса, а просто ID сущности (order_id или location_id). Это позволит сохранить все связанные метаданные и избежать их потери.
- Решения и дальнейшие шаги:
  - Семён/Вова: Перепроектировать модальное окно "Insert Stop", добавив в него вкладки или переключатель для выбора типа добавляемой сущности: Customer Location, Order или произвольный адрес.
  - Для выбора Locations и Orders необходимо встроить в модальное окно существующий компонент таблицы с поиском и пагинацией.
  - Игорь Скринковский/Бэкенд команда: Убедиться, что API для модификации маршрута (V5) корректно принимает ID сущностей для вставки.
- Итоговое резюме по теме:Текущий интерфейс добавления остановок признан непригодным для профессионального использования. Принято решение о его кардинальном перепроектировании. Новый интерфейс будет ориентирован на поиск и выбор из существующих данных, а не на ручной ввод, что является критически важным для эффективности работы диспетчеров.
### 4. Тема: Введение новой сущности "Активы" (Assets) и статус водителя
- Ответственный: Н/Д
- Время обсуждения: 20:24 – 35:21
- Контекст / Цель: Дэн инициировал обсуждение двух взаимосвязанных концепций, которые кардинально расширяют возможности продукта: введение сущности "Активы" для обслуживания на местах и введение статуса доступности водителя для динамической диспетчеризации.
- Ключевые моменты обсуждения и предложения команды:
  - Команда подтвердила, что для реализации статуса водителя потребуется создать API для обновления статуса, логи для истории и фильтрацию в UI.
- Ключевые тезисы, директивы и мнения Дэна:
  - Новая сущность "Assets": Помимо Orders и Customer Locations, в системе должна появиться третья сущность — Assets. Это физические объекты, требующие обслуживания (например, строительные генераторы, уличные туалеты, трактора). Диспетчер должен видеть эти ассеты на панели и иметь возможность перетащить их на маршрут водителя для создания задачи (например, "обслужить", "забрать", "заправить").
  - Статус доступности водителя: Диспетчеру для принятия решений в реальном времени необходимо знать, кто из водителей сейчас доступен. Это решается введением статуса "Active" / "Inactive", который водитель сам устанавливает в мобильном приложении (по аналогии с Uber).
  - Техническая реализация статуса: Для хранения этого часто меняющегося статуса следует использовать быструю NoSQL базу данных, например, DynamoDB.
  - Связь с Dispatch Board: В Dispatch Board (или в Routes List с панелью заказов) рядом с именем водителя должна отображаться иконка его текущего статуса (зеленая/красная). Это позволит диспетчеру отправлять экспромтные заказы только тем, кто действительно готов их принять.
- Решения и дальнейшие шаги:
  - Команда: Приступить к проектированию новой сущности Asset и ее интеграции в диспетчерские интерфейсы.
  - Команда: Реализовать MVP функционала "Статус водителя":
    - Кнопка в мобильном приложении для смены статуса.
    - API и хранилище (DynamoDB) для статусов.
    - Визуальный индикатор статуса в веб-интерфейсе для диспетчера.
  - Сергей: Выпустить минимально рабочую версию (0.00001) Dispatch Board, чтобы начать демонстрировать эту логику клиентам.
- Итоговое резюме по теме:Были представлены две прорывные концепции. Введение "Активов" открывает для продукта новые рыночные вертикали (строительство, сервисное обслуживание). Внедрение статуса доступности водителя является ключевым элементом для перехода к модели динамической диспетчеризации в реальном времени, что является требованием многих клиентов.
